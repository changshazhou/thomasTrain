window.__require=function t(e,o,n){function i(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}}var p=o[c]={exports:{}};e[c][0].call(p.exports,function(t){return i(e[c][1][t]||t)},p,p.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AppConfig:[function(t,e,o){"use strict";cc._RF.push(e,"5e35fiNgTpPT720Pxf2rArY","AppConfig");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.avatarUrl="https://moyun-1257000992.cos.ap-guangzhou.myqcloud.com/avatar/",e.mLayoutConfig={},e.respawnNum="0",e.comboTime="1",e.killCoin="10",e.comboCoin={},e.killEnergy="10",e.respawnTime="10",e.coinPricePr="0",e.coinRewardTotalTime="0",e.coinRewardPr="0",e.coinRewardTime="0",e.comboVibrate="0",e.respawnSkillCF="0",e.killTips={},e.changeCoinCF="0",e.getDiamond="0",e.mapWidth=3600,e.mapHeight=3600,e.showInviteDelayTime="2",e.gameEndVideoChecked="0",e.showAdForm="0",e.showTryingForm="0",e.tryingLevel=[],e.tryingMode="0",e.bg="bg0",e.bgArr=["bg0","bg1"],e.isOpenVideo=!1,e.attackId=0,e.playerAttackId=0,e}return n(e,t),Object.defineProperty(e.prototype,"layoutConfig",{get:function(){return this.mLayoutConfig},set:function(t){this.mLayoutConfig=t},enumerable:!0,configurable:!0}),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.resUrl="https://liteplay-1253992229.cos.ap-guangzhou.myqcloud.com/Game/tomato/",e}(t("./BaseModule").default);o.default=i,cc._RF.pop()},{"./BaseModule":"BaseModule"}],ArrayUtil:[function(t,e,o){"use strict";cc._RF.push(e,"318a7hxC4hEX61QK69AYWmB","ArrayUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.shuffle=function(t){for(var e,o,n=t.length,i=n;i--;)i!==(o=Math.floor(Math.random()*n))&&(e=t[i],t[i]=t[o],t[o]=e);return t},t.prototype.indexOf=function(t,e){for(var o=-1,n=0,i=t.length;n<i;n++)if(t[n]==e){o=n;break}return o},t.prototype.replace=function(t,e,o){var n=t[e],i=t[o];t[o]=n,t[e]=i},t.prototype.merge=function(t,e){for(var o=0,n=t.length;o<n;o++)e.push(t[o]);return e},t.clone=function(t){new Array;return t.slice(0)},t.remove=function(t,e){for(var o=0;o<t.length;o++)if(t[o]==e)return t.splice(o,1),void o--},t}();o.default=n,cc._RF.pop()},{}],AudioModule:[function(t,e,o){"use strict";cc._RF.push(e,"755d365qBJHeKetwOxL4m/A","AudioModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BaseModule"),c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=t.call(this)||this;return e.gameMusic=null,e.btnSound=null,e.menuMusic=null,e.rainSound=null,e.cutSound=null,e.shutter=null,e.win=null,e.fail=null,e.IS_MUTE="isMute",e.IS_MUTE_MUSIC="isMuteMusic",e.IS_MUTE_SOUND="isMuteSound",e.VOLUME_MUSIC="volumeMusic",e.VOLUME_SOUND="volumeSound",e._volumeMusic=1,e._volumeSound=1,e._isMuteMusic=!1,e._isMuteSound=!1,e._isMute=!1,e.gameCoinTime=0,e.mMusicId=null,e.getSave(),e}return n(e,t),e.prototype.playRespawnEffect=function(t){t&&t()},e.prototype.onEnable=function(){Lite.audio=this,moosnow.audio.btnSound=this.btnSound},e.prototype.start=function(){},Object.defineProperty(e.prototype,"MusicId",{get:function(){return this.mMusicId},enumerable:!0,configurable:!0}),e.prototype.playGameMusic=function(){this.mMusicId=this.playMusic(this.gameMusic)},e.prototype.playMainMusic=function(){this.mMusicId=this.playMusic(this.gameMusic)},e.prototype.playBossMusic=function(){this.mMusicId=this.playMusic(this.gameMusic)},e.prototype.playClickEffect=function(){this.playSound(this.btnSound)},e.prototype.playRainEffect=function(){this.rainId=this.playSound(this.rainSound,!0)},e.prototype.stopRainEffect=function(){this.rainId&&this.stopSound(this.rainId)},e.prototype.playCutEffect=function(){this.playSound(this.cutSound,!1)},e.prototype.playShutter=function(){this.playSound(this.shutter)},e.prototype.playWin=function(){this.playSound(this.win)},e.prototype.playFail=function(){this.playSound(this.fail)},e.prototype.stopAll=function(){},e.prototype.stopSound=function(t){cc.audioEngine.stop(t)},e.prototype.stopMusic=function(){isNaN(this.mMusicId)||cc.audioEngine.stop(this.mMusicId)},e.prototype.playSound=function(t,e,o,n,i){if(void 0===e&&(e=!1),void 0===o&&(o=null),void 0===n&&(n=null),void 0===i&&(i=0),!this.isMute){var r=cc.audioEngine.playEffect(t,e);return cc.audioEngine.setFinishCallback(r,function(t){o&&o(t),e||cc.audioEngine.stop(r)}),r}},e.prototype.playMusic=function(t,e,o,n){if(void 0===e&&(e=!0),void 0===o&&(o=null),void 0===n&&(n=0),!this.isMute)return cc.audioEngine.playMusic(t,e)},Object.defineProperty(e.prototype,"volumeMusic",{get:function(){return this._volumeMusic},set:function(t){this._volumeMusic=t,this.save()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volumeSound",{get:function(){return this._volumeSound},set:function(t){this._volumeSound=t,this.save()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMuteMusic",{get:function(){return this._isMuteMusic},set:function(t){this._isMuteMusic=t,this.save()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMuteSound",{get:function(){return this._isMuteSound},set:function(t){this._isMuteSound=t,this.save()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMute",{get:function(){return this._isMute},set:function(t){this._isMute=t,this.save()},enumerable:!0,configurable:!0}),e.prototype.save=function(){cc.sys.localStorage.setItem(this.IS_MUTE,""+this.isMute),cc.sys.localStorage.setItem(this.IS_MUTE_MUSIC,""+this.isMuteMusic),cc.sys.localStorage.setItem(this.IS_MUTE_SOUND,""+this.isMuteSound)},e.prototype.getSave=function(){this.isMute="true"==cc.sys.localStorage.getItem(this.IS_MUTE),this.isMuteMusic="true"==cc.sys.localStorage.getItem(this.IS_MUTE_MUSIC),this.isMuteSound="true"==cc.sys.localStorage.getItem(this.IS_MUTE_SOUND)},e.prototype.onDisable=function(){},i([a({type:cc.AudioClip})],e.prototype,"gameMusic",void 0),i([a({type:cc.AudioClip})],e.prototype,"btnSound",void 0),i([a({type:cc.AudioClip})],e.prototype,"menuMusic",void 0),i([a({type:cc.AudioClip})],e.prototype,"rainSound",void 0),i([a({type:cc.AudioClip})],e.prototype,"cutSound",void 0),i([a({type:cc.AudioClip})],e.prototype,"shutter",void 0),i([a({type:cc.AudioClip})],e.prototype,"win",void 0),i([a({type:cc.AudioClip})],e.prototype,"fail",void 0),e=i([s],e)}(r.default);o.default=u,cc._RF.pop()},{"./BaseModule":"BaseModule"}],BaseModule:[function(t,e,o){"use strict";cc._RF.push(e,"32467evvihFDoJEB0n0C/Xm","BaseModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){var e=t.call(this)||this;return e.moduleName="",e}return n(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],BoardControl:[function(t,e,o){"use strict";cc._RF.push(e,"bd155JpG85A7pfUPdCOnJwW","BoardControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/entity/EntityLogic"),c=t("../../CutMask"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskNode=null,e.logo=null,e.cutBodyType=cc.RigidBodyType.Dynamic,e.mBeforeBodyType=null,e}return n(e,t),e.prototype.start=function(){this.mBeforeBodyType=this.node.getComponent(cc.RigidBody).type},e.prototype.onCollisionEnter=function(t,e){},e.prototype.onBeginContact=function(t,e,o){},e.prototype.willShow=function(t){if(t){this.node.active=!1,this.node.x=t.x,this.node.y=t.y,t.width&&(this.node.width=t.width,this.maskNode.width=this.node.width,this.logo.width=this.node.width),t.height&&(this.node.height=t.height,this.maskNode.height=this.node.height,this.logo.height=this.node.height),this.node.rotation=t.rotation;var e=this.node.width/2,o=this.node.height/2,n=[this.newPoint(-e,-o),this.newPoint(-e,o),this.newPoint(e,o),this.newPoint(e,-o)],i=this.node.getComponent(cc.PhysicsPolygonCollider);i.points=n,i.apply(),this.updatePolygonPoints(n)}},e.prototype.updatePolygonPoints=function(t){this.node.getComponent(cc.PolygonCollider).points=t},e.prototype.newPoint=function(t,e){return new cc.Vec2(t,e)},e.prototype.cut=function(t){Lite.audio.playCutEffect();var e=this.maskNode.getComponent(c.default);e.onLoaded(),e.cutFn(t),this.cutBodyType&&(this.node.getComponent(cc.RigidBody).type=this.cutBodyType)},e.prototype.onHide=function(){this.cutBodyType&&(this.node.getComponent(cc.RigidBody).type=this.mBeforeBodyType)},i([u(cc.Node)],e.prototype,"maskNode",void 0),i([u(cc.Node)],e.prototype,"logo",void 0),i([u],e.prototype,"cutBodyType",void 0),e=i([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../../CutMask":"CutMask","../../framework/entity/EntityLogic":"EntityLogic"}],ButtonEx:[function(t,e,o){"use strict";cc._RF.push(e,"35926TG53ZO0JDRZX+i2pzs","ButtonEx");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enableEffect=!0,e.enableMusic=!0,e.autoScale=!1,e.autoSwing=!1,e.zoomTime=1,e.scaleMax=1,e.scaleMin=.8,e.enableLogPoint=!1,e.logPointName="",e.mDownEffect=!1,e.mSwingAction=cc.sequence(cc.rotateTo(.3,10),cc.rotateTo(.6,-10),cc.rotateTo(.3,0),cc.scaleTo(.3,.8),cc.scaleTo(.3,1)).repeatForever(),e}return n(e,t),e.prototype.runAnim=function(){this.autoScale?this.autoScaleZoomOut():this.autoSwing&&this.node.runAction(this.mSwingAction)},e.prototype.start=function(){this.runAnim()},e.prototype.onEnable=function(){this.node.scale=1,this.node.on(cc.Node.EventType.TOUCH_START,this.onMouseDown,this),this.node.on(cc.Node.EventType.TOUCH_END,this.mouseUpEffect,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.mouseUpEffect,this)},e.prototype.onMouseDown=function(){this.mDownEffect||(this.mDownEffect=!0,Lite.audio.playClickEffect(),this.enableEffect&&this.mouseDownEffect())},e.prototype.removeMouseEffect=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.mouseDownEffect,this),this.node.off(cc.Node.EventType.TOUCH_END,this.mouseUpEffect,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.mouseUpEffect,this)},e.prototype.mouseDownEffect=function(){this.node.scale=1,this.node.runAction(cc.sequence(cc.scaleTo(.1,.7,.7),cc.callFunc(function(){},this)))},e.prototype.mouseUpEffect=function(){var t=this;this.node.stopAllActions(),this.runAnim(),this.node.scale=.7,this.node.runAction(cc.sequence(cc.scaleTo(.1,1,1),cc.callFunc(function(){t.mDownEffect=!1},this)))},e.prototype.autoScaleZoomOut=function(){var t=this;this.node.runAction(cc.sequence(cc.scaleTo(this.zoomTime,this.scaleMin,this.scaleMin),cc.callFunc(function(){t.autoScaleZoomIn()},this)))},e.prototype.autoScaleZoomIn=function(){var t=this;this.node.runAction(cc.sequence(cc.scaleTo(this.zoomTime,this.scaleMax,this.scaleMax),cc.callFunc(function(){t.autoScaleZoomOut()},this)))},e.prototype.onDisable=function(){this.removeMouseEffect()},i([s],e.prototype,"enableEffect",void 0),i([s],e.prototype,"enableMusic",void 0),i([s],e.prototype,"autoScale",void 0),i([s],e.prototype,"autoSwing",void 0),i([s],e.prototype,"zoomTime",void 0),i([s],e.prototype,"scaleMax",void 0),i([s],e.prototype,"scaleMin",void 0),i([s],e.prototype,"enableLogPoint",void 0),i([s],e.prototype,"logPointName",void 0),e=i([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],ChainControl:[function(t,e,o){"use strict";cc._RF.push(e,"90fb82Aa/tEyJWG/p/qF/Hj","ChainControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BoardControl"),c=t("../../CutMask"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextJoint=null,e}return n(e,t),e.prototype.willShow=function(t){this.node.active=!1,this.node.x=t.x,this.node.y=t.y},e.prototype.removeJoint=function(){var t=this.node.getComponent(cc.RopeJoint);t&&t.destroy(),this.nextJoint&&this.nextJoint.destroy()},e.prototype.cut=function(t){this.removeJoint();var e=this.maskNode.getComponent(c.default);e.onLoaded(),e.cutFn(t)},i([u(cc.RopeJoint)],e.prototype,"nextJoint",void 0),e=i([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../../CutMask":"CutMask","./BoardControl":"BoardControl"}],CheckboxEx:[function(t,e,o){"use strict";cc._RF.push(e,"f43ce7XQuFI0ItOD+Q/Yc0B","CheckboxEx");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.text=null,e}return n(e,t),e.prototype.reset=function(t,e){this.checked.active=t,e&&(this.text.string=e)},e.prototype.getChecked=function(){return this.checked.active},e.prototype.start=function(){var t=this;moosnow.form.applyClickAnim(this.unchecked,function(){t.checked.active&&moosnow.http.getAllConfig(function(t){t&&t.checkBoxMistouch>0&&moosnow.platform.showVideo(function(t){t==moosnow.VIDEO_STATUS.END?Lite.data.addVideoSp():t==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})}),t.checked.active=!t.checked.active})},i([s(cc.Node)],e.prototype,"checked",void 0),i([s(cc.Node)],e.prototype,"unchecked",void 0),i([s(cc.Label)],e.prototype,"text",void 0),e=i([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],CircleControl:[function(t,e,o){"use strict";cc._RF.push(e,"eea9cu2NsNCzrn5e++Z/Dh8","CircleControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../CutMask"),c=t("./BoardControl"),s=cc._decorator,a=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onCollisionEnter=function(t,e){},e.prototype.onBeginContact=function(t,e,o){},e.prototype.willShow=function(t){t&&(this.node.active=!1,this.node.x=t.x,this.node.y=t.y,t.width&&(this.node.width=t.width,this.maskNode.width=this.node.width,this.logo.width=this.node.width),t.height&&(this.node.height=t.height,this.maskNode.height=this.node.height,this.logo.height=this.node.height))},e.prototype.updatePolygonPoints=function(t){this.node.getComponent(cc.PolygonCollider).points=t},e.prototype.newPoint=function(t,e){return new cc.Vec2(t,e)},e.prototype.cut=function(t){var e=this.maskNode.getComponent(r.default);e.onLoaded(),e.cutFn(t),this.cutBodyType&&(this.node.getComponent(cc.RigidBody).type=this.cutBodyType)},e.prototype.onHide=function(){this.cutBodyType&&(this.node.getComponent(cc.RigidBody).type=this.mBeforeBodyType)},e=i([a],e)}(c.default));o.default=u,cc._RF.pop()},{"../../CutMask":"CutMask","./BoardControl":"BoardControl"}],CloundControl:[function(t,e,o){"use strict";cc._RF.push(e,"154764hOLpL86oZYjzJJkmy","CloundControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/entity/EntityLogic"),c=t("../../utils/Common"),s=t("../../../sheets/vo/LevelCfg"),a=t("../../config/Entitys"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mCanvasWidth=0,e.mRainNum=0,e.mRainTime=0,e.mRainTotalTime=0,e}return n(e,t),e.prototype.start=function(){this.mCanvasWidth=this.node.width/2},e.prototype.onShow=function(t){var e=this;this.node.runAction(cc.sequence(cc.moveTo(1,new cc.Vec2(0,(cc.Canvas.instance.node.height-this.node.height)/2)),cc.callFunc(function(){var t=s.LevelCfg.get(e.LogicData.level);e.mRainNum=t.rainNum,e.mRainTime=t.rainTime,e.node.runAction(cc.sequence(cc.scaleTo(1,1.1),cc.scaleTo(1,.9)).repeatForever())}))),Lite.audio.playRainEffect()},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.mRainNum=0,this.mRainTime=0,this.mRainTotalTime=0,this.node.zIndex=1,this.node.y=450},e.prototype.onFwUpdate=function(t){if(!(this.mRainTotalTime>this.mRainTime)){this.mRainTotalTime+=t;for(var e=0;e<t/this.mRainTime*this.mRainNum;e++){var o=c.default.randomNumBoth(-this.mCanvasWidth,this.mCanvasWidth);Lite.entity.showEntity(a.default.rain,this.node,{x:o,y:0})}}},e=i([p],e)}(r.default));o.default=l,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/Entitys":"Entitys","../../framework/entity/EntityLogic":"EntityLogic","../../utils/Common":"Common"}],Common:[function(t,e,o){"use strict";cc._RF.push(e,"f8b10NknwBFGqyF+RuufBW3","Common"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./EventType"),i=function(){function t(){}return t.getRandomArr=function(t,e,o){void 0===o&&(o=0);for(var n=[],i=(e-t)/2,r=0,c=0;c<=e-t;c++){n[c]=1;for(var s=Math.abs(c-i),a=0;a<s;a++)n[c]*=o;r+=n[c]}for(c=0;c<n.length;c++)n[c]=n[c]/r,c-1>=0&&(n[c]=n[c]+n[c-1]);var u=Math.random(),p=0;for(c=0;c<n.length;c++)if(u<=n[c]){p=c;break}return p+t},t.convertSpeedByDelta=function(t,e){return e>167&&(e=16.67),t*(e/1e3)},t.convertRotationByDelta=function(t,e){return e>167&&(e=16.67),t*(e/1e3)},t.titleCase=function(t){var e,o=t.toLowerCase().split(/\s+/);for(e=0;e<o.length;e++)o[e]=o[e].slice(0,1).toUpperCase()+o[e].slice(1);return o.join(" ")},t.numFixed=function(t,e){return parseFloat(parseFloat(t).toFixed(e))},t.parseMoney=function(t){return isNaN(t)?0:parseFloat(parseFloat(t).toFixed(2))},t.formatMoney=function(t){return isNaN(t)&&(t=0),t<9999?parseInt(""+t):t<9999999?parseFloat(""+t/1e3).toFixed(2)+"K":t<9999999999?parseFloat(""+t/1e6).toFixed(2)+"M":t<9999999999999?parseFloat(""+t/1e9).toFixed(2)+"G":t<1e16?parseFloat(""+t/1e12).toFixed(2)+"T":t<1e19?parseFloat(""+t/1e15).toFixed(2)+"P":t<1e22?parseFloat(""+t/1e18).toFixed(2)+"E":parseFloat(""+t/1e21).toFixed(2)+"B"},t.formatDiamond=function(t){return isNaN(t)&&(t=0),t<9999?parseFloat(t).toFixed(0):t<9999999?parseFloat(""+t/1e3).toFixed(0)+"K":parseFloat(""+t/1e6).toFixed(0)+"M"},t.formatAttack=function(t){return isNaN(t)&&(t=0),t<9999?""+t:t<9999999?parseFloat(""+t/1e3).toFixed(0)+"K":t<9999999999?parseFloat(""+t/1e6).toFixed(0)+"M":t<9999999999999?parseFloat(""+t/1e9).toFixed(0)+"G":t<1e16?parseFloat(""+t/1e12).toFixed(0)+"T":t<1e19?parseFloat(""+t/1e15).toFixed(0)+"P":t<1e22?parseFloat(""+t/1e18).toFixed(0)+"E":parseFloat(""+t/1e21).toFixed(0)+"B"},t.objKeySort=function(t){for(var e=Object.keys(t).sort(),o={},n=0;n<e.length;n++)o[e[n]]=t[e[n]];return o},t.isWeChat=function(){return!!window.wx},t.isQQPlay=function(){return!1},t.isObject=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},t.object2Query=function(t){var e=[];for(var o in t)e.push(o+"="+t[o]);return e.join("&")},t.format=function(){var t=arguments[0];if(void 0===t||null==t||""==t||"undefined"==t)return t;for(var e=1;e<arguments.length;e++){var o=new RegExp("\\{"+(e-1)+"\\}","gm");t=t.replace(o,arguments[e])}return t},t.isFunction=function(t){return"function"==typeof t},t.isEmpty=function(t){if("object"==typeof t){var e;for(e in t)return!1;return!0}return null===t||void 0===t||"null"===t||"undefined"===t||""===t},t.dateFtt=function(t,e){var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return t},t.formatTime=function(t){var e=t.getFullYear(),o=t.getMonth()+1,n=t.getDate();t.getHours(),t.getMinutes(),t.getSeconds();return[e,o,n].map(this.formatNumber).join("/")},t.millisecondToDate=function(t){return this.secondToDate(t/1e3)},t.secondToDate=function(t){var e="";if(isNaN(t))e="00:00";else if(t<60&&(e=this.formatNumber(0)+":"+this.formatNumber(t)),t>60&&t<3600){var o=parseInt(""+t/60),n=t-60*o;e=this.formatNumber(o)+":"+this.formatNumber(n)}return e},t.getzf=function(t){return parseInt(""+t)<10?"0"+t:""+t},t.formatNumber=function(t){return(t=t.toString())[1]?t:"0"+t},t.colorRGB2Hex=function(t){var e=t.split(",");return"#"+((1<<24)+(parseInt(e[0].split("(")[1])<<16)+(parseInt(e[1])<<8)+parseInt(e[2].split(")")[0])).toString(16).slice(1)},t.copy=function(t,e){for(var o in t)e[o]=t[o]},t.deepCopy=function(t){var e=Array.isArray(t)?[]:{};if(t&&"object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&(t[o]&&"object"==typeof t[o]?e[o]=this.deepCopy(t[o]):e[o]=t[o]);return e},t.randomNumBoth=function(t,e){var o=e-t,n=Math.random();return t+Math.round(n*o)},t.randomToRatio=function(t,e,o){return this.randomNumBoth(t,e)<=o},t.randName=function(){for(var t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e="",o=0;o<8;o++){var n=t[this.randomNumBoth(0,t.length-1)];n&&(e+=n)}return e+=this.randomNumBoth(100,999)},t.generateUUID=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(16)})},t.isNumber=function(t){return"number"==typeof t||"[object Number]"==Object.prototype.toString.call(t)},t.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)},t.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},t.popOpenAnim=function(t){var e=this;return new Promise(function(o){t.scale=.8,t.runAction(cc.sequence(cc.scaleTo(.1,1.2,1.2),cc.scaleTo(.1,1,1),cc.callFunc(function(){o()},e)))})},t.popCloseAnim=function(t){var e=this;return new Promise(function(o){t.scale=1,t.runAction(cc.sequence(cc.scaleTo(.1,0,0),cc.callFunc(function(){o()},e)))})},t.addCoin=function(e,o,i){for(var r=this,c=function(o){var n=t.randomNumBoth(0,100)/200,i=Lite.entity.showEntity("coin",e,{x:t.randomNumBoth(-100,100),y:t.randomNumBoth(-100,100)});console.log("addCoin",i.node.x,i.node.y,i.node.active),i.node.runAction(cc.sequence(cc.delayTime(n),cc.spawn(cc.moveTo(1,-530,315),cc.fadeOut(1),cc.sequence(cc.scaleTo(.8,1.2,1.2),cc.scaleTo(.8,.8,9.8))),cc.callFunc(function(){Lite.entity.hideEntity(i,null,!0)})))},s=0;s<30;s++)c();var a=setTimeout(function(){Lite.data.addCoin(o),Lite.data.saveCoin(),moosnow.event.sendEventImmediately(n.default.COIN_CHANGED,null),clearTimeout(a),r.isFunction(i)&&i()},2100)},t}();o.default=i,cc._RF.pop()},{"./EventType":"EventType"}],ConfigData:[function(t,e,o){"use strict";cc._RF.push(e,"f1386HytD9EyIBXroe5OUvv","ConfigData");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.init=function(){var t,o=r.SheetManager.getList("ConfigData");for(var n in console.log("ConfigData",o),o)"keys"!=n&&(t=e.get(n)),t&&(this[t.name]=t.value,t=null)},e.get=function(t){return this[t]?this[t]:r.SheetManager.get("ConfigData",t,e)},e}(i.ConfigDataBase);o.ConfigData=c,cc._RF.pop()},{"../../script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],CutMask:[function(t,e,o){"use strict";cc._RF.push(e,"b2b15BGFZFNAavSf8FtAtG6","CutMask");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){this.mask=this.node.getComponent(cc.Mask)},e.prototype.addEvent=function(){this.node.on(cc.Node.EventType.POSITION_CHANGED,this.mask._updateGraphics,this.mask),this.node.on(cc.Node.EventType.ROTATION_CHANGED,this.mask._updateGraphics,this.mask),this.node.on(cc.Node.EventType.SCALE_CHANGED,this.mask._updateGraphics,this.mask),this.node.on(cc.Node.EventType.SIZE_CHANGED,this.mask._updateGraphics,this.mask),this.node.on(cc.Node.EventType.ANCHOR_CHANGED,this.mask._updateGraphics,this.mask)},e.prototype.removeEvent=function(){this.mask.node.on(cc.Node.EventType.POSITION_CHANGED,this.mask._updateGraphics,this.mask),this.mask.node.on(cc.Node.EventType.ROTATION_CHANGED,this.mask._updateGraphics,this.mask),this.mask.node.on(cc.Node.EventType.SCALE_CHANGED,this.mask._updateGraphics,this.mask),this.mask.node.on(cc.Node.EventType.SIZE_CHANGED,this.mask._updateGraphics,this.mask),this.mask.node.on(cc.Node.EventType.ANCHOR_CHANGED,this.mask._updateGraphics,this.mask)},e.prototype.onLoaded=function(){this.mask=this.node.getComponent(cc.Mask),this.initMask()},e.prototype.initMask=function(){this.mask._graphics||this.mask._createGraphics()},e.prototype.cutFn=function(t){var e=this;this.removeEvent();var o=t;this.mask._updateGraphics=function(){var t=e.mask._graphics;t.clear(!1),t.lineWidth=10,t.fillColor.fromHEX("#ff0000"),t.moveTo(o[0].x,o[0].y);for(var n=1;n<o.length;n++){var i=o[n];t.lineTo(i.x,i.y)}t.close(),t.stroke(),t.fill()},this.addEvent(),this.mask._updateGraphics()},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],CutObjects:[function(t,e,o){"use strict";cc._RF.push(e,"ae5898jPspNRIOyX0NhBDSg","CutObjects");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./entity/game/BoardControl"),s=t("./utils/EventType"),a=t("./config/Entitys"),u=t("./utils/MathUtils"),p=cc._decorator,l=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.root=null,e.touching=!1,e.EPSILON=.1,e.POINT_SQR_EPSILON=5,e.mIsEnd=!1,e}return n(e,t),e.prototype.start=function(){this.addListener()},e.prototype.onEnable=function(){this.onStart()},e.prototype.onStart=function(){this.mIsEnd=!1},e.prototype.compare=function(t,e){return t.fraction>e.fraction?1:t.fraction<e.fraction?-1:0},e.prototype.equals=function(t,e,o){return void 0===o&&(o=void 0),o=void 0===o?this.EPSILON:o,Math.abs(t-e)<o},e.prototype.equalsVec2=function(t,e,o){return this.equals(t.x,e.x,o)&&this.equals(t.y,e.y,o)},e.prototype.pointInLine=function(t,e,o){return cc.Intersection.pointLineDistance(t,e,o,!0)<1},e.prototype.onLoad=function(){},e.prototype.addListener=function(){this.root.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.root.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.root.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.root.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.ctx=this.root.getComponent(cc.Graphics)},e.prototype.removeListener=function(){this.root.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.root.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.root.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.root.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),moosnow.event.removeListener(s.default.RESET_CUT_OBJECT,this)},e.prototype.isCanCut=function(){return!this.mIsEnd&&(!(Lite.data.getCutNum()<=0)||(this.mIsEnd=!0,!1))},e.prototype.onTouchStart=function(t){if(this.isCanCut()){this.touching=!0,this.r1=this.r2=this.results=null,this.touchStartPoint=this.touchPoint=cc.v2(t.touch.getLocation());var e=t.touch.getLocation();this.mKnife||(this.mKnife=Lite.entity.showEntity(a.default.knife,this.root,{x:e.x,y:e.y,angle:0}))}},e.prototype.onTouchMove=function(t){if(this.isCanCut()){this.touchPoint=cc.v2(t.touch.getLocation());var e=t.touch.getLocation();if(this.mKnife){this.mKnife.node.x=e.x,this.mKnife.node.y=e.y;var o=u.default.getAngleTwoVec(e.sub(this.touchStartPoint).normalize(),{x:0,y:1});this.mKnife.node.rotation=o}Lite.entity.hideAllEntity(a.default.guide)}},e.prototype.onTouchEnd=function(t){this.isCanCut()?this.cutAnim(t):this.removeKnife()},e.prototype.removeKnife=function(){this.mKnife&&Lite.entity.hideEntity(this.mKnife,null),this.mKnife=null},e.prototype.cutAnim=function(t){var e=this;this.mKnife&&(this.mKnife.node.x=this.touchStartPoint.x,this.mKnife.node.y=this.touchStartPoint.y,this.mKnife.node.runAction(cc.sequence(cc.moveTo(.2,this.touchPoint),cc.callFunc(function(){e.removeKnife(),e.cut(t),Lite.entity.hideAllEntity(a.default.knifeEffect),Lite.entity.hideAllEntity(a.default.knife),Lite.entity.hideAllEntity(a.default.sawdust),e.results.forEach(function(t){var o=t.point.clone(),n=e.node.convertToNodeSpaceAR(o);console.log("effect local ",n,Lite.entity.getAllEntity(a.default.knifeEffect).length),Lite.entity.showEntity(a.default.knifeEffect,e.node,i({},n))})})).easing(cc.easeSineIn())))},e.prototype.cut=function(t){var e=this;if(this.isCanCut()){this.touchPoint=cc.v2(t.touch.getLocation()),this.recalcResults(),this.touching=!1;var o=cc.v2(t.touch.getLocation());if(this.equals(this.touchStartPoint.sub(o).magSqr(),0))return;this.r2.forEach(function(t){t.fraction=1-t.fraction});for(var n=this.results,i=[],r=function(t){for(var o=!1,r=n[t],c=0;c<i.length;c++){var s=i[c];if(s[0]&&r.collider===s[0].collider){o=!0;var a=s.find(function(t){return t.point.sub(r.point).magSqr()<=e.POINT_SQR_EPSILON});a?s.splice(s.indexOf(a),1):s.push(r);break}}o||i.push([r])},a=0;a<n.length;a++)r(a);i.length>0&&(Lite.data.addCutNum(-1),0>=Lite.data.getCutNum()&&moosnow.event.sendEventImmediately(s.default.GAME_CUT_END,null));for(a=0;a<i.length;a++){var u=i[a];if(!(u.length<2)){u=u.sort(this.compare);for(var p=[],l=0;l<u.length-1;l+=2){var f=u[l],h=u[l+1];f&&h&&this.split(f.collider,f.point,h.point,p)}if(!(p.length<=0)){moosnow.event.sendEventImmediately(s.default.OBJECT_CUT,{startPoint:this.touchStartPoint,endPoint:this.touchPoint});var d=u[0].collider,m=void 0;for(l=0;l<p.length;l++){for(var y=p[l],v=0;v<y.length;v++)"number"==typeof y[v]&&(y[v]=d.points[y[v]]);(!m||y.length>m.length)&&(m=y)}if(!(m.length<3)){d.points=m;var _=d.body;_.type=cc.RigidBodyType.Dynamic;var g=d.node.getComponent(c.default);g.updatePolygonPoints(m),g.cut(m),d.apply();for(l=0;l<p.length;l++){if(!((y=p[l]).length<3)&&y!=m){var E=cc.instantiate(d.node);E.position=d.node.parent.convertToNodeSpaceAR(_.getWorldPosition(null)),E.rotation=_.getWorldRotation(),E.parent=d.node.parent,E.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic;var w=E.getComponent(cc.PhysicsPolygonCollider);w.points=y,E.group="board";var O=E.getComponent(c.default);O.updatePolygonPoints(y),O.cut(y),w.apply()}}}}}}this.ctx.clear()}},e.prototype.split=function(t,e,o,n){var i=t.body,r=t.points;if(r){for(var c,s,a=[e=i.getLocalPoint(e,null),o=i.getLocalPoint(o,null)],u=[o,e],p=0;p<r.length;p++){var l=r[p],f=p===r.length-1?r[0]:r[p+1];if(void 0===c&&this.pointInLine(e,l,f)?c=p:void 0===s&&this.pointInLine(o,l,f)&&(s=p),void 0!==c&&void 0!==s)break}if(void 0===c||void 0===s)return!1;var h,d=c,m=s;if(n.length>0)for(p=0;p<n.length;p++){var y=n[p];if(d=y.indexOf(c),m=y.indexOf(s),-1!==d&&-1!==m){h=n.splice(p,1)[0];break}}h||(h=r.map(function(t,e){return e}));for(p=d+1;p!==m+1;p++){p>=h.length&&(p=0),(v="number"==typeof(v=h[p])?r[v]:v).sub(e).magSqr()<this.POINT_SQR_EPSILON||v.sub(o).magSqr()<this.POINT_SQR_EPSILON||u.push(h[p])}for(p=m+1;p!==d+1;p++){var v;p>=h.length&&(p=0),(v="number"==typeof(v=h[p])?r[v]:v).sub(e).magSqr()<this.POINT_SQR_EPSILON||v.sub(o).magSqr()<this.POINT_SQR_EPSILON||a.push(h[p])}n.push(a),n.push(u)}else n=[]},e.prototype.removeIgnore=function(t){return t.filter(function(t){return"board"==t.collider.node.group||"joint"==t.collider.node.group})},e.prototype.recalcResults=function(){if(this.touching){this.touchStartPoint;var t=this.touchPoint;this.ctx.clear(),this.ctx.moveTo(this.touchStartPoint.x,this.touchStartPoint.y),this.ctx.lineTo(t.x,t.y),this.ctx.stroke();for(var e=cc.director.getPhysicsManager(),o=this.removeIgnore(e.rayCast(this.touchStartPoint,t,cc.RayCastType.All)),n=this.removeIgnore(e.rayCast(t,this.touchStartPoint,cc.RayCastType.All)),i=o.concat(n),r=0;r<i.length;r++){var c=i[r].point;this.ctx.circle(c.x,c.y,5)}this.ctx.fill(),this.r1=o,this.r2=n,this.results=i}},e.prototype.update=function(t){this.mIsEnd?this.ctx.clear():this.recalcResults()},r([f(cc.Node)],e.prototype,"root",void 0),e=r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./config/Entitys":"Entitys","./entity/game/BoardControl":"BoardControl","./utils/EventType":"EventType","./utils/MathUtils":"MathUtils"}],DelayEx:[function(t,e,o){"use strict";cc._RF.push(e,"6a8b7YCZhxAPa8MuKT925SK","DelayEx");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delayNode=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){},e.prototype.onShow=function(){var t=this;moosnow.http.getAllConfig(function(e){var o=e&&!isNaN(e.delayShow)?parseFloat(e.delayShow):0;o>0&&(t.delayNode.active=!1,t.scheduleOnce(function(){t.delayNode.active=!0},o))})},i([s(cc.Node)],e.prototype,"delayNode",void 0),e=i([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Delay:[function(t,e,o){"use strict";cc._RF.push(e,"efc2baB0I9Af7MyCBRLxWXZ","Delay"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.clearAll=function(){},t.delay=function(t){return new Promise(function(e){0!=t?cc.Canvas.instance.scheduleOnce(function(){e(!0)},t):e()})},t.delay1=function(t){return new Promise(function(e){0!=t?setTimeout(function(){e(!0)},t):e()})},t.delayTo=function(t,e){return new Promise(function(o){cc.Canvas.instance.schedule(function(){o(e)},t)})},t}();o.Delay=n,cc._RF.pop()},{}],EasterEggAnim:[function(t,e,o){"use strict";cc._RF.push(e,"9e5d11kSxBL07hS0x/MFv0f","EasterEggAnim");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/UIForms"),c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.egg=null,e.light=null,e}return n(e,t),e.prototype.onEnable=function(){this.light.runAction(cc.rotateBy(3,360).repeatForever()),this.egg.runAction(cc.sequence(cc.moveBy(.5,new cc.Vec2(0,10)),cc.moveBy(.5,new cc.Vec2(0,-10))).repeatForever()),this.addListener()},e.prototype.onDisable=function(){this.removeListener()},e.prototype.openEasterEggForm=function(){moosnow.ui.pushUIForm(r.default.EasterEggForm,null)},e.prototype.addListener=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.openEasterEggForm,this)},e.prototype.removeListener=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.openEasterEggForm,this)},i([a(cc.Node)],e.prototype,"egg",void 0),i([a(cc.Node)],e.prototype,"light",void 0),e=i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../config/UIForms":"UIForms"}],EasterEgg:[function(t,e,o){"use strict";cc._RF.push(e,"89fe325KxlMW43YSpkTKtDn","EasterEgg");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("EasterEgg",t,e)},e.getAll=function(){var t,o=r.SheetManager.getList("EasterEgg"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(i.EasterEggBase);o.EasterEgg=c,cc._RF.pop()},{"../../script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],EntityData:[function(t,e,o){"use strict";cc._RF.push(e,"79c58CLqqBBF6JWDqOsHcEy","EntityData"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e,o){this.position=null,this.scale=null,this.rotation=null,this.data=null,t&&this.positionEmpty(),e&&this.rotationEmpty(),o&&this.scaleEmpty()}return Object.defineProperty(t,"empty",{get:function(){return new t},enumerable:!0,configurable:!0}),t.prototype.positionEmpty=function(){this.position={x:0,y:0,z:0}},t.prototype.scaleEmpty=function(){this.scale={x:1,y:1,z:1}},t.prototype.rotationEmpty=function(){this.rotation={x:0,y:0,z:0}},t}();o.EntityData=n,cc._RF.pop()},{}],EntityLogic:[function(t,e,o){"use strict";cc._RF.push(e,"7873cLAw99GBrJeY+Edgg2R","EntityLogic");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.poolName="",e}return n(e,t),e.prototype.onEnable=function(){},e.prototype.start=function(){},Object.defineProperty(e.prototype,"LogicData",{get:function(){return this.mLogicData},enumerable:!0,configurable:!0}),e.prototype.willShow=function(t){this.mLogicData=t,t&&(t.x&&(this.node.x=t.x),t.y&&(this.node.y=t.y))},e.prototype.onShow=function(t){},e.prototype.onFwUpdate=function(t){},e.prototype.willHide=function(t){},e.prototype.onHide=function(t){},e.prototype.onCollision=function(t){},e.prototype.unuse=function(){},e.prototype.reuse=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.onDisable=function(){},e}(cc.Component);o.default=i,cc._RF.pop()},{}],EntityModule:[function(t,e,o){"use strict";cc._RF.push(e,"96f5fl0pJ1IpLMNSvab7Du2","EntityModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../entity/EntityLogic"),c=t("./BaseModule"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=t.call(this)||this;return e.tomato=null,e.box=null,e.longBox=null,e.circle=null,e.pillarStatic=null,e.longIron=null,e.longIronFixed=null,e.woodenCask=null,e.woodenCask2=null,e.rollerChain=null,e.revolute=null,e.revoluteCenter=null,e.clound=null,e.rain=null,e.guide=null,e.knifeEffect=null,e.sawdust=null,e.mapItem=null,e.knife=null,e.map1=null,e.map2=null,e.map3=null,e.map4=null,e.map5=null,e.map6=null,e.map7=null,e.map8=null,e.map9=null,e.map10=null,e.entityLogics=[],e._serializeId=0,e.paused=!0,e.prefabPath="prefab/entity/",e.entityPools=[],e.mIsSlow=!0,e.entityLogics=[],e._serializeId=0,e._serializeId=0,e}return n(e,t),e.prototype.start=function(){Lite.entity=this,this.resume()},e.prototype.update=function(t){if(!this.paused)for(var e=0;e<this.entityLogics.length;e++){this.entityLogics[e].onFwUpdate(t)}},e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e.prototype.getAllEntity=function(t){return this.entityLogics.filter(function(e){return e.poolName==t})},e.prototype.showEntity=function(t,e,o){var n=this._showEntity(t);return n.id=this._serializeId++,n.node.parent=e,n.willShow(o),n.node.active=!0,n.node.zIndex=n.id,n.onShow(o),this.entityLogics.push(n),n},e.prototype.hideEntity=function(t,e,o){void 0===o&&(o=!1),this._hideEntity(t,e,o)},e.prototype.hideAllEntity=function(t,e){void 0===e&&(e=!1);for(var o=0;o<this.entityLogics.length;o++){var n=this.entityLogics[o];n.poolName==t&&(this.hideEntity(n,null,e),o--)}},e.prototype._showEntity=function(t){var e=this._getOrNewEntityPool(t),o=e.get();null==o&&(o=this._createEntity(t));var n=o.getComponent(r.default);return n.poolName=e.name,n},e.prototype._hideEntity=function(t,e,o){if(void 0===o&&(o=!1),o)t.willHide(e),t.node.active=!1,t.onHide(e),t.destroy();else{var n=this._getOrNewEntityPool(t.poolName);t.willHide(e),n.put(t.node),t.node.active=!1,t.onHide(e),t.node.removeFromParent()}cc.js.array.remove(this.entityLogics,t)},e.prototype._createEntity=function(t){var e=this._getPrefabByName(t);return cc.instantiate(e)},e.prototype._getPrefabByName=function(t){return this[t]},e.prototype._getOrNewEntityPool=function(t){var e=this._getEntityPool(t);return null==e&&(e=this._newEntityPool(t)),e},e.prototype._getEntityPool=function(t){for(var e=0;e<this.entityPools.length;e++){var o=this.entityPools[e];if(o.name===t)return o}return null},e.prototype._newEntityPool=function(t){var e=new cc.NodePool(t);return e.name=t,this.entityPools.push(e),e},i([u(cc.Prefab)],e.prototype,"tomato",void 0),i([u(cc.Prefab)],e.prototype,"box",void 0),i([u(cc.Prefab)],e.prototype,"longBox",void 0),i([u(cc.Prefab)],e.prototype,"circle",void 0),i([u(cc.Prefab)],e.prototype,"pillarStatic",void 0),i([u(cc.Prefab)],e.prototype,"longIron",void 0),i([u(cc.Prefab)],e.prototype,"longIronFixed",void 0),i([u(cc.Prefab)],e.prototype,"woodenCask",void 0),i([u(cc.Prefab)],e.prototype,"woodenCask2",void 0),i([u(cc.Prefab)],e.prototype,"rollerChain",void 0),i([u(cc.Prefab)],e.prototype,"revolute",void 0),i([u(cc.Prefab)],e.prototype,"revoluteCenter",void 0),i([u(cc.Prefab)],e.prototype,"clound",void 0),i([u(cc.Prefab)],e.prototype,"rain",void 0),i([u(cc.Prefab)],e.prototype,"guide",void 0),i([u(cc.Prefab)],e.prototype,"knifeEffect",void 0),i([u(cc.Prefab)],e.prototype,"sawdust",void 0),i([u(cc.Prefab)],e.prototype,"mapItem",void 0),i([u(cc.Prefab)],e.prototype,"knife",void 0),i([u(cc.Prefab)],e.prototype,"map1",void 0),i([u(cc.Prefab)],e.prototype,"map2",void 0),i([u(cc.Prefab)],e.prototype,"map3",void 0),i([u(cc.Prefab)],e.prototype,"map4",void 0),i([u(cc.Prefab)],e.prototype,"map5",void 0),i([u(cc.Prefab)],e.prototype,"map6",void 0),i([u(cc.Prefab)],e.prototype,"map7",void 0),i([u(cc.Prefab)],e.prototype,"map8",void 0),i([u(cc.Prefab)],e.prototype,"map9",void 0),i([u(cc.Prefab)],e.prototype,"map10",void 0),e=i([a],e)}(c.default);o.default=p,cc._RF.pop()},{"../entity/EntityLogic":"EntityLogic","./BaseModule":"BaseModule"}],Entitys:[function(t,e,o){"use strict";cc._RF.push(e,"3918bLsqGdEqbUk+ioPm3hm","Entitys");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e,"mapping",{get:function(){var t;return{nativeAd:(t={},t[moosnow.APP_PLATFORM.OPPO]="nativeAd",t[moosnow.APP_PLATFORM.OPPO_ZS]="nativeAd",t[moosnow.APP_PLATFORM.VIVO]="nativeAdVIVO",t)}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"nativeAd",{get:function(){return this.convertUIName(this.mapping.nativeAd)},enumerable:!0,configurable:!0}),e.clound="clound",e.rain="rain",e.mapItem="mapItem",e.knife="knife",e.guide="guide",e.tomato="tomato",e.knifeEffect="knifeEffect",e.sawdust="sawdust",e}(t("./UIMapping").default);o.default=i,cc._RF.pop()},{"./UIMapping":"UIMapping"}],EventType:[function(t,e,o){"use strict";cc._RF.push(e,"84144IDHxFCyKrGLYLIXVsv","EventType"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.GAME_STATE_START="GAME_STATE_START",t.GAME_STATE_OVER="GAME_STATE_OVER",t.GAME_CUT_END="GAME_CUT_END",t.GAME_REFRESH_CUT_NUM="GAME_REFRESH_CUT_NUM",t.GAME_LEVEL_END="GAME_LEVEL_END",t.GAME_STATE_RESPAWN="GAME_STATE_RESPAWN",t.GAME_STATE_PAUSE="GAME_STATE_PAUSE",t.GAME_STATE_RESUME="GAME_STATE_RESUME",t.GAME_STATE_NEXT="GAME_STATE_NEXT",t.GAME_STATE_REPLAY="GAME_STATE_REPLAY",t.GAME_STATE_CANCEL="GAME_STATE_CANCEL",t.GAME_STATE_FAST_END="GAME_STATE_FAST_END",t.REPLAY_LEVEL="REPLAY_LEVEL",t.VIBRATESWITCH_CHANGED="VIBRATESWITCH_CHANGED",t.SOUNDSWITCH_CHANGED="SOUNDSWITCH_CHANGED",t.MUSICSWITCH_CHANGED="MUSICSWITCH_CHANGED",t.ON_PLATFORM_SHOW="ON_PLATFORM_SHOW",t.ON_PLATFORM_HIDE="ON_PLATFORM_HIDE",t.SKIN_CHANGE="SKIN_CHANGE",t.SKIN_UNLOCK="SKIN_UNLOCK",t.SKIN_SELECT="SKIN_SELECT",t.TOUCH_UP="TOUCH_UP",t.TOUCH_MOVE="TOUCH_MOVE",t.TOUCH_DOWN="TOUCH_DOWN",t.ROCKER_MOVE="ROCKER_MOVE",t.ROCKER_END="ROCKER_END",t.LEVEL_CHANGED="LEVEL_CHANGED",t.COIN_CHANGED="LEVEL_CHANGED",t.DIAMOND_CHANGED="DIAMOND_CHANGED",t.RESET_CUT_OBJECT="RESET_CUT_OBJECT",t.OBJECT_CUT="OBJECT_CUT",t.RECEIVE_RAIN="RECEIVE_RAIN",t.SP_NUM_CHANGED="SP_NUM_CHANGED",t.FOLLOW_CHANGED="FOLLOW_CHANGED",t}();o.default=n,cc._RF.pop()},{}],GameDataCenter:[function(t,e,o){"use strict";cc._RF.push(e,"20893XGhcFIXq/Eim7yIV/L","GameDataCenter");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../framework/modules/BaseModule"),r=t("../utils/EventType"),c=t("../utils/Common"),s=t("../../sheets/vo/LevelCfg"),a=t("../../sheets/vo/Skin"),u=function(t){function e(){var e=t.call(this)||this;return e.CURRENT_NEW_USER="CURRENT_NEW_USER",e.VIBRATE_SWITCH="VIBRATE_SWITCH",e.CURRENT_LEVEL="CURRENT_LEVEL",e.TOKEN="token",e.OPEN_ID="OPEN_ID",e.SP_NUM="SP_NUM",e.SP_DATE="SP_DATE",e.FOLLOW_TAG="FOLLOW_TAG",e.USER_LEVEL="USER_LEVEL",e.COIN="COIN",e.DIAMOND="DIAMOND",e.SIGN_NUM="SIGN_NUM",e.SIGN_DATE="SIGN_DATE",e.TRYING_DATE="TRYING_DATE",e.TRYING_GUN="TRYING_GUN",e.EGG_SKIN="EGG_SKIN",e.USE_EGG_SKIN="USE_EGG_SKIN",e.SIGN_VIDEO_DATE="SIGN_VIDEO_DATE",e.COIN_ADD="COIN_ADD",e.AIR_DROP_NUM="AIR_DROP_NUM",e.BENEFITS_TIME="BENEFITS_TIME",e.CURRENT_SKIN="CURRENT_SKIN",e.USER_SKIN="USER_SKIN",e.USER_PRIZE_KEY="USER_PRIZE_KEY",e.mCurrentMisTouchCount=0,e.mUserLevel=null,e.mCoin=0,e.mDiamond=0,e.mMistouchTag=1,e.mCutNum=0,e.initNewData(),e}return n(e,t),e.prototype.getCurrentMisTouchCount=function(){return this.mCurrentMisTouchCount},e.prototype.setCurrentMisTouchCount=function(t){this.mCurrentMisTouchCount=t},e.prototype.getCoinAdd=function(){return moosnow.setting.getInt(this.COIN_ADD,1)},e.prototype.setCoinAdd=function(t){moosnow.setting.setValue(this.COIN_ADD,t)},e.prototype.getIsNew=function(){return moosnow.setting.getBool(this.CURRENT_NEW_USER,!0)},e.prototype.setIsNew=function(t){moosnow.setting.setBool(this.CURRENT_NEW_USER,t)},e.prototype.getToken=function(){return moosnow.setting.getString(this.TOKEN,"")},e.prototype.setToken=function(t){moosnow.setting.setValue(this.TOKEN,t)},e.prototype.getOpenid=function(){return moosnow.setting.getString(this.OPEN_ID,"")},e.prototype.setOpenid=function(t){moosnow.setting.setValue(this.OPEN_ID,t)},e.prototype.getVibrateSetting=function(){return moosnow.setting.getBool(this.VIBRATE_SWITCH,!0)},e.prototype.setVibrateSetting=function(t){moosnow.setting.setBool(this.VIBRATE_SWITCH,t),moosnow.event.sendEventImmediately(r.default.VIBRATESWITCH_CHANGED,t)},e.prototype.initNewData=function(){this.getToken()||(moosnow.setting.setValue(this.CURRENT_LEVEL,1),moosnow.setting.setValue(this.COIN,500),moosnow.setting.setObject(this.USER_SKIN,{10001:{coinNum:1e3}}),this.addSp(3),this.setToken(c.default.generateUUID()))},e.prototype.getAirdropNum=function(){return moosnow.setting.getInt(this.AIR_DROP_NUM,10)},e.prototype.setAirdropNum=function(t){void 0===t&&(t=1);moosnow.setting.setValue(this.AIR_DROP_NUM,t)},e.prototype.getBenefitsTime=function(){return moosnow.setting.getInt(this.BENEFITS_TIME,0)},e.prototype.setBenefitsTime=function(t){moosnow.setting.setValue(this.BENEFITS_TIME,t)},e.prototype.getCurrentLevel=function(){return this.mCurrentLevel?this.mCurrentLevel:moosnow.setting.getInt(this.CURRENT_LEVEL,1)},e.prototype.setCurrentLevel=function(t){return this.mCurrentLevel=t,moosnow.setting.getInt(this.CURRENT_LEVEL,t)},e.prototype.addCurrentLevel=function(t){void 0===t&&(t=1);var e=moosnow.setting.appendInt(this.CURRENT_LEVEL,t);this.mCurrentLevel=e,moosnow.event.sendEventImmediately(r.default.LEVEL_CHANGED,e)},e.prototype.getUserLevel=function(){return this.mUserLevel||(this.mUserLevel=moosnow.setting.getObject(this.USER_LEVEL,"{}")),this.mUserLevel},e.prototype.getMaxLevel=function(){var t=0,e=Lite.data.getUserLevel();for(var o in e)parseInt(o)>t&&(t=parseInt(o));return t+1},e.prototype.initUserLevel=function(){var t=s.LevelCfg.getAll(),e=this.getUserLevel();if(c.default.isEmpty(e)){for(var o=0;o<t.length;o++){var n=t[o].prefab;e[o]={time:0,prefab:n}}moosnow.setting.setObject(this.USER_LEVEL,this.mUserLevel)}},e.prototype.setUserLevel=function(t,e){void 0===e&&(e=0);var o=this.getUserLevel();o[t]&&(o[t].time=e),moosnow.setting.setObject(this.USER_LEVEL,this.mUserLevel)},e.prototype.getNextLevel=function(){var t=this.getUserLevel(),e=this.getCurrentLevel();for(var o in t)0==t[o].time&&parseInt(o)<e&&(e=parseInt(o));return e},e.prototype.getCoin=function(){return 0==this.mCoin&&(this.mCoin=moosnow.setting.getInt(this.COIN,0)),this.mCoin},e.prototype.subCoin=function(t){this.mCoin-=t,moosnow.event.sendEventImmediately(r.default.COIN_CHANGED,this.mCoin)},e.prototype.addCoin=function(t){this.mCoin+=t,moosnow.event.sendEventImmediately(r.default.COIN_CHANGED,this.mCoin)},e.prototype.setCoin=function(t){this.mCoin=t,moosnow.event.sendEventImmediately(r.default.COIN_CHANGED,this.mCoin)},e.prototype.saveCoin=function(){moosnow.setting.setValue(this.COIN,this.mCoin)},e.prototype.getDiamond=function(){return 0==this.mDiamond&&(this.mDiamond=moosnow.setting.getInt(this.DIAMOND,0)),this.mDiamond},e.prototype.subDiamond=function(t){this.mDiamond-=t,moosnow.event.sendEventImmediately(r.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.addDiamond=function(t){this.mDiamond+=t,moosnow.event.sendEventImmediately(r.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.setDiamond=function(t){this.mDiamond=t,moosnow.event.sendEventImmediately(r.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.saveDiamond=function(){moosnow.setting.setValue(this.DIAMOND,this.mDiamond)},e.prototype.getSignNum=function(){return moosnow.setting.getInt(this.SIGN_NUM,0)},e.prototype.addSignNum=function(){moosnow.setting.appendInt(this.SIGN_NUM,1),moosnow.setting.setValue(this.SIGN_DATE,c.default.formatTime(new Date))},e.prototype.setVideoSign=function(){moosnow.setting.setValue(this.SIGN_VIDEO_DATE,c.default.formatTime(new Date))},e.prototype.getIsSign=function(){return c.default.formatTime(new Date)==moosnow.setting.getString(this.SIGN_DATE,"")},e.prototype.getIsVideoSign=function(){return c.default.formatTime(new Date)==moosnow.setting.getString(this.SIGN_VIDEO_DATE,"")},e.prototype.getCurrentSkinId=function(){return this.mCurrentSkinId||(this.mCurrentSkinId=moosnow.setting.getInt(this.CURRENT_SKIN,10001)),this.mCurrentSkinId},e.prototype.setCurrentSkinId=function(t){return this.mCurrentSkinId=t,moosnow.setting.setValue(this.CURRENT_SKIN,t),this.mCurrentSkinId},e.prototype.getUserSkin=function(){return this.mUserSkin||(this.mUserSkin=moosnow.setting.getObject(this.USER_SKIN,"{}")),this.mUserSkin},e.prototype.addUserSkinCoin=function(t){var e=this.getUserSkin(),o=a.Skin.get(t);return e[t]||(e[t]={coinNum:o.coinNum}),this.mUserSkin=e,moosnow.setting.setObject(this.USER_SKIN,this.mUserSkin),this.mUserSkin},e.prototype.addUserSkinVideo=function(t){var e=this.getUserSkin();return e[t]?e[t].videoNum+=1:e[t]={videoNum:1},this.mUserSkin=e,moosnow.setting.setObject(this.USER_SKIN,this.mUserSkin),this.mUserSkin},e.prototype.getUserSkinById=function(t){return this.getUserSkin()[t]},e.prototype.addTrying=function(t){moosnow.setting.setValue(this.TRYING_GUN,t),moosnow.setting.setValue(this.TRYING_DATE,c.default.formatTime(new Date))},e.prototype.getIsTrying=function(){return c.default.formatTime(new Date)==moosnow.setting.getString(this.TRYING_DATE,"")},e.prototype.getTrying=function(){return moosnow.setting.getInt(this.TRYING_GUN,0)},e.prototype.getSelectSkin=function(){return this.mSelectSkin||(this.mSelectSkin=this.getCurrentSkinId()),this.mSelectSkin},e.prototype.setSelectSkin=function(t){this.mSelectSkin=t},e.prototype.getMistouchTag=function(){return this.mMistouchTag},e.prototype.setMistouchTag=function(t){this.mMistouchTag=t},e.prototype.getPrizeBox=function(){return this.mPrizeBox||(this.mPrizeBox={}),this.mPrizeBox},e.prototype.clearPrizeBox=function(){this.mPrizeBox={}},e.prototype.lockPrizeBox=function(t,e,o){void 0===o&&(o=0);var n=this.getPrizeBox();n[t]={prizeId:t,type:0==e?0:1,coinNum:o},this.mPrizeBox=n},e.prototype.getUserPrizeBoxById=function(t){return this.getPrizeBox()[t]},e.prototype.getPrizeKey=function(){return null==this.mPrizeKey&&(this.mPrizeKey=3),this.mPrizeKey},e.prototype.addPrizeKey=function(t){this.mPrizeKey+=t},e.prototype.clearPrizeKey=function(){this.mPrizeKey=null,moosnow.setting.setValue(this.USER_PRIZE_KEY,"")},e.prototype.getEggSkin=function(){return this.mEggSkin||(this.mEggSkin=moosnow.setting.getObject(this.EGG_SKIN,"{}")),this.mEggSkin},e.prototype.hasEggSkin=function(t){return!!this.getEggSkin()[t]},e.prototype.unlockEggSkin=function(t){var e=this.getEggSkin();e[t]=!0,moosnow.setting.setObject(this.EGG_SKIN,e)},e.prototype.useEggSkin=function(t){moosnow.setting.setValue(this.USE_EGG_SKIN,t)},e.prototype.getUseEggSkin=function(){return moosnow.setting.getInt(this.USE_EGG_SKIN,0)},e.prototype.clearUseEggSkin=function(){moosnow.setting.setValue(this.USE_EGG_SKIN,"0")},e.prototype.clearCutNum=function(){this.mCutNum=0},e.prototype.addCutNum=function(t){this.mCutNum+=t,moosnow.event.sendEventImmediately(r.default.GAME_REFRESH_CUT_NUM,this.mCutNum)},e.prototype.getCutNum=function(){return this.mCutNum},e.prototype.addFollowSp=function(){this.getSpNum(),this.mSpNum+=5,moosnow.setting.setValue(this.SP_NUM,this.mSpNum),moosnow.event.sendEventImmediately(r.default.SP_NUM_CHANGED,this.mSpNum)},e.prototype.addVideoSp=function(){this.addSp(5)},e.prototype.getSpTime=function(){return moosnow.setting.getInt(this.SP_DATE,0)},e.prototype.addChangeTag=function(){moosnow.setting.setValue(this.FOLLOW_TAG,Date.now())},e.prototype.getChangeTag=function(){return moosnow.setting.getInt(this.FOLLOW_TAG,0)},e.prototype.addTimeSp=function(){this.addSp(1),moosnow.setting.setValue(this.SP_DATE,Date.now())},e.prototype.addSp=function(t){this.getSpNum(),this.mSpNum+=t,this.mSpNum>10&&(this.mSpNum=10),this.mSpNum<=0&&(this.mSpNum=0),moosnow.setting.setValue(this.SP_NUM,this.mSpNum),moosnow.event.sendEventImmediately(r.default.SP_NUM_CHANGED,this.mSpNum)},e.prototype.getSpNum=function(){return this.mSpNum||(this.mSpNum=moosnow.setting.getInt(this.SP_NUM,0)),this.mSpNum<0&&(this.mSpNum=0),this.mSpNum},e}(i.default);o.default=u,cc._RF.pop()},{"../../sheets/vo/LevelCfg":"LevelCfg","../../sheets/vo/Skin":"Skin","../framework/modules/BaseModule":"BaseModule","../utils/Common":"Common","../utils/EventType":"EventType"}],GameLogic:[function(t,e,o){"use strict";cc._RF.push(e,"3372cAZdgVPy5M0W6kKU1nw","GameLogic"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(){}}();o.default=n,cc._RF.pop()},{}],GameState:[function(t,e,o){"use strict";cc._RF.push(e,"68601zqxg1I85/LwCfGqT+t","GameState");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BaseModule"),c=t("../../config/UIForms"),s=t("../../utils/EventType"),a=t("../../../sheets/vo/LevelCfg"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gamePause=!0,e.gameStarted=!1,e.isBoss=!1,e.mBeginTime=0,e}return n(e,t),e.prototype.start=function(){var t=this;Lite.myGame=this,moosnow.event.addListener(s.default.GAME_STATE_START,this,this.startGame),moosnow.event.addListener(s.default.GAME_STATE_OVER,this,this.gameOver),moosnow.event.addListener(s.default.GAME_STATE_RESPAWN,this,this.respawn),moosnow.event.addListener(s.default.GAME_STATE_RESUME,this,this.resumeGame),moosnow.event.addListener(s.default.GAME_STATE_PAUSE,this,this.pauseGame),moosnow.event.addListener(s.default.GAME_STATE_NEXT,this,this.nextGame),moosnow.event.addListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_HIDE,this,function(t){console.log("game state  ON_PLATFORM_HIDE ",t),Lite.audio.stopMusic()}),moosnow.event.addListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_SHOW,this,function(e){console.log("game state  ON_PLATFORM_SHOW ",e),moosnow.platform.videoPlaying||t.playBgMusic()})},e.prototype.playBgMusic=function(){this.isBoss?Lite.audio.playBossMusic():Lite.audio.playGameMusic()},e.prototype.startGame=function(t){var e=this;this.mBeginTime=Date.now(),this.isBoss=!1,Lite.audio.stopMusic(),Lite.ui.hideUIForm(c.default.HomeForm,null,function(){e.playBgMusic(),e.resumeGame(),moosnow.platform.startRecord(),e.gameStarted=!0,console.log("\u6e38\u620f\u5173\u5361 ",t),Lite.ui.getUIFrom(c.default.GameForm)||Lite.ui.pushUIForm(c.default.GameForm,{level:t,beginTime:e.mBeginTime})}),moosnow.http.startGame(t)},e.prototype.onGameCancel=function(){Lite.ui.hideUIForm(c.default.GameForm,null),Lite.ui.pushUIForm(c.default.HomeForm)},e.prototype.onLevelReload=function(){this.resumeGame()},e.prototype.pauseGame=function(){this.gamePause=!0,Lite.entity.pause()},e.prototype.resumeGame=function(){this.gamePause=!1,Lite.entity.resume()},e.prototype.respawn=function(){var t=this;Lite.audio.playRespawnEffect(function(){t.playBgMusic()}),this.resumeGame()},e.prototype.replay=function(t){},e.prototype.gameOver=function(t){if(this.gameStarted){this.pauseGame(),this.gameStarted=!1,Lite.audio.stopMusic();var e=Lite.data.getCurrentLevel(),o=Date.now()-this.mBeginTime;moosnow.http.endGame(t.level,t.isWin),t.isWin&&(Lite.data.setUserLevel(t.level,o),t.level==e&&t.level<a.LevelCfg.getAll().length&&Lite.data.addCurrentLevel()),Lite.ui.pushUIForm(c.default.EndForm,{isWin:t.isWin,level:t.level})}},e.prototype.endGame=function(t){this.gameStarted&&(this.gameStarted=!1,Lite.audio.stopMusic(),Lite.ui.hideUIForm(c.default.GameForm,null,function(){Lite.ui.pushUIForm(c.default.HomeForm,{isOpen:t})}))},e.prototype.nextGame=function(t){if(!this.gameStarted){this.gameStarted=!0,this.resumeGame(),this.playBgMusic();var e=Lite.data.getCurrentLevel();this.mBeginTime=Date.now(),Lite.ui.getUIFrom(c.default.GameForm)||Lite.ui.pushUIForm(c.default.GameForm,{lvIndex:e,beginTime:this.mBeginTime})}},e=i([p],e)}(r.default));o.default=l,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../utils/EventType":"EventType","./BaseModule":"BaseModule"}],GuideControl:[function(t,e,o){"use strict";cc._RF.push(e,"6a8deLRQfhGRJfLDYRbnqmH","GuideControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onShow=function(t){var e=this.node.y,o=this.node.x;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(1,o,e-200),cc.moveTo(1,o,e)).repeatForever())},e=i([s],e)}(r.default));o.default=a,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic"}],KnifeControl:[function(t,e,o){"use strict";cc._RF.push(e,"111f8aCGphJVLBKSIfhj3s9","KnifeControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onShow=function(t){},e=i([s],e)}(r.default));o.default=a,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic"}],KnifeEffectControl:[function(t,e,o){"use strict";cc._RF.push(e,"3d746c9nZ5FvI1GICPcmgiR","KnifeEffectControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../config/Entitys"),s=cc._decorator,a=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mEffect=[],e}return n(e,t),e.prototype.onShow=function(t){for(var e=0;e<20;e++)Lite.entity.showEntity(c.default.sawdust,this.node,{x:0,y:0})},e=i([a],e)}(r.default));o.default=u,cc._RF.pop()},{"../config/Entitys":"Entitys","../framework/entity/EntityLogic":"EntityLogic"}],LevelCfg:[function(t,e,o){"use strict";cc._RF.push(e,"dd1cdykPRVLR6MRisEmvYlK","LevelCfg");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("LevelCfg",t,e)},e.getAll=function(){var t,o=r.SheetManager.getList("LevelCfg"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(i.LevelCfgBase);o.LevelCfg=c,cc._RF.pop()},{"../../script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],LoaderManager:[function(t,e,o){"use strict";cc._RF.push(e,"28dbb2QCG9AGZYT7pySYoSZ","LoaderManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.preLoad3D=function(t){var e=this;return new Promise(function(o){0==t.length?o():Laya.Sprite3D.load(t,Laya.Handler.create(e,function(){o()},null,!1))})},t.preLoad=function(t){var e=this;return new Promise(function(o){0==t.length?o():Laya.loader.load(t,Laya.Handler.create(e,function(){o()},null,!1))})},t.preLoadTexture2D=function(t){var e=this;return new Promise(function(o){e.load(t,o)})},t.load=function(t,e){var o=this,n=t.pop();n?Laya.Texture2D.load(n,Laya.Handler.create(this,function(n){o.load(t,e)},null,!1)):e()},t.get3D=function(t,e,o){void 0===o&&(o=!0);var n=Laya.loader.getRes(t);return o?n.getChildByName(e).clone():n.getChildByName(e)},t.get3DTo=function(t,e){var o=Laya.loader.getRes(t).getChildByName(e);new Laya.Sprite3D;return o.clone()},t.getCamera=function(t,e,o){void 0===o&&(o=!0);var n=Laya.loader.getRes(t).getChildByName(e);return o?n.clone():n},t.getLight=function(t,e){return Laya.loader.getRes(t).getChildByName(e)},t.loadSounds=function(t){var e=this;return new Promise(function(o){e.preDownFlie(t,o)})},t.preDownFlie=function(t,e){var o=this,n=t.pop();n?(n=this.soundBaseUrl+n,Laya.BMiniAdapter?Laya.BMiniAdapter.downLoadFile(n,"sound",Laya.Handler.create(this,function(){o.preDownFlie(t,e)})):Laya.MiniAdpter?(window.tt,Laya.MiniAdpter.downLoadFile(n,"sound",Laya.Handler.create(this,function(){o.preDownFlie(t,e)}))):Laya.loader.load(n,Laya.Handler.create(this,function(){o.preDownFlie(t,e)}),null,Laya.Loader.SOUND)):e()},t.registerFont=function(t,e){var o=this;return new Promise(function(n){var i=new Laya.BitmapFont;i.loadFont(t,Laya.Handler.create(o,function(){Laya.Text.registerBitmapFont(e,i),n()}))})},t.preLoadJson=function(t){var e=this;return new Promise(function(o){0==t.length?o():Laya.loader.load(t,Laya.Handler.create(e,function(){o()}),null,Laya.Loader.JSON)})},t.soundBaseUrl="",t}();o.LoaderManager=n,cc._RF.pop()},{}],Loading:[function(t,e,o){"use strict";cc._RF.push(e,"5d34dTxE1JBhYgn1JhZxyWL","Loading");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./utils/SheetManager"),c=t("../sheets/vo/ConfigData"),s=t("./framework/modules/AppConfig"),a=cc._decorator,u=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.progressBar=null,e.isLogin=!1,e.preloadSeceneFinish=!1,e.preloadSceneProgress=0,e.preloadUI=!1,e.preloadUIProgress=0,e.preloadEntity=!1,e.preloadEntityProgress=0,e.preloadCfg=!1,e.preloadCfgProgress=0,e.subNum=2,e.curNum=0,e}return n(e,t),e.prototype.start=function(){var t=this;moosnow.platform.login(),moosnow.getAppPlatform()==moosnow.APP_PLATFORM.WX&&window.wx||moosnow.getAppPlatform()==moosnow.APP_PLATFORM.QQ&&window.qq||moosnow.getAppPlatform()==moosnow.APP_PLATFORM.VIVO&&window.qg?(cc.loader.downloader.loadSubpackage("gameres1",function(e){if(e)return console.error(e);console.log("load subpackage successfully."),t.loadMainpackage()}),console.log("load subpackage.")):(this.loadMainpackage(),console.log("load main package."))},e.prototype.subpackageLoad=function(){this.curNum++,this.curNum==this.subNum&&this.loadMainpackage()},e.prototype.loadMainpackage=function(){var t=this,e=s.default.resUrl+"data/cfg.json";console.log("load cfg json "),r.SheetManager.loadDB(""+e,function(){c.ConfigData.init(),Lite.data.initUserLevel(),t.preloadCfg=!0,t.preloadCfgProgress=100,t.showProgress(),console.log("preload config completed"),t.preloadUIProgress=100,console.log("preloadUI completed"),t.preloadUIProgress=100,t.preloadUI=!0,Lite.resource.loadAssetDir("prefab/entity",cc.Prefab,function(e){t.preloadEntityProgress=e,t.showProgress()},function(){console.log("preloadEntity completed"),t.preloadEntityProgress=100,t.preloadEntity=!0,cc.director.preloadScene("Main",function(e,o,n){var i=e/o*100;t.preloadSceneProgress=isNaN(i)?0:i,t.showProgress()},function(e,o){t.preloadSeceneFinish=!0,t.showProgress(),t.loadScene(),console.log("error",e," SceneAsset ",o)})})})},e.prototype.onLoad=function(){this.isLogin=!1,this.preloadSeceneFinish=!1},e.prototype.showProgress=function(){var t=.1+.1*this.preloadCfgProgress+.3*this.preloadEntityProgress+.3*this.preloadUIProgress+.2*this.preloadSceneProgress;isNaN(t)?this.label.string="0%":this.label.string=t+"%",this.progressBar.progress=t/100,this.node.on(cc.Node.EventType.TOUCH_END,function(){},this)},e.prototype.loadScene=function(){cc.director.loadScene("Main")},i([p(cc.Label)],e.prototype,"label",void 0),i([p(cc.ProgressBar)],e.prototype,"progressBar",void 0),e=i([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../sheets/vo/ConfigData":"ConfigData","./framework/modules/AppConfig":"AppConfig","./utils/SheetManager":"SheetManager"}],Logger:[function(t,e,o){"use strict";cc._RF.push(e,"10f57ztvEpOELo4eqeZii3N","Logger"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},t.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},t}();o.default=n,cc._RF.pop()},{}],LongIronControl:[function(t,e,o){"use strict";cc._RF.push(e,"e32c0NspupJLpMJGVRhix/y","LongIronControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/entity/EntityLogic"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mBeforeBodyType=null,e}return n(e,t),e.prototype.start=function(){this.mBeforeBodyType=this.node.getComponent(cc.RigidBody).type},e.prototype.willShow=function(t){this.node.active=!1,this.node.x=t.x,this.node.y=t.y,t.width&&(this.node.width=t.width),t.height&&(this.node.height=t.height),this.node.rotation=t.rotation;var e=this.node.getComponent(cc.PhysicsBoxCollider);e.size=new cc.Size(this.node.width,this.node.height),e.apply(),this.node.getComponent(cc.BoxCollider).size=new cc.Size(this.node.width,this.node.height)},e=i([s],e)}(r.default));o.default=a,cc._RF.pop()},{"../../framework/entity/EntityLogic":"EntityLogic"}],MainView:[function(t,e,o){"use strict";cc._RF.push(e,"16c71vktUdFL5Wn6IeMhW9F","MainView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./config/UIForms"),c=t("./utils/EventType"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background=null,e.bg1=null,e.bg2=null,e}return n(e,t),e.prototype.start=function(){moosnow.event.addListener(c.default.GAME_STATE_NEXT,this,this.changeBg),moosnow.event.addListener(c.default.GAME_STATE_OVER,this,this.changeBg),moosnow.event.addListener(c.default.GAME_STATE_CANCEL,this,this.changeBg)},e.prototype.onEnable=function(){this.changeBg(),moosnow.http.finishLoading(),Lite.ui.pushUIForm(r.default.HomeForm,null,function(){}),moosnow.platform.reportMonitor()},e.prototype.showPrize=function(){moosnow.APP_PLATFORM.BYTEDANCE==moosnow.getAppPlatform()&&Lite.data.getCurrentLevel()>1&&Lite.ui.pushUIForm(r.default.PrizeForm,null)},e.prototype.changeBg=function(){var t=[this.bg1,this.bg2];this.background.spriteFrame=t[Math.random()>.5?0:1]},i([u(cc.Sprite)],e.prototype,"background",void 0),i([u(cc.SpriteFrame)],e.prototype,"bg1",void 0),i([u(cc.SpriteFrame)],e.prototype,"bg2",void 0),e=i([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./config/UIForms":"UIForms","./utils/EventType":"EventType"}],MapItem:[function(t,e,o){"use strict";cc._RF.push(e,"7a605uHkK5IeYQ4cu6SyPF0","MapItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../config/UIForms"),s=t("../utils/EventType"),a=t("../utils/Common"),u=t("../../sheets/vo/Skin"),p=cc._decorator,l=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logo=null,e.player=null,e.locked=null,e.memo=null,e.skinFrame=null,e.mOpening=!1,e}return n(e,t),e.prototype.addListener=function(){this.removeListener(),this.node.off(cc.Node.EventType.TOUCH_END,this.onOpendLevel,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onOpendLevel,this),moosnow.event.addListener(s.default.REPLAY_LEVEL,this,this.onReplay)},e.prototype.removeListener=function(){moosnow.form.removeClickAnim(this.node)},e.prototype.onReplay=function(t){this.LogicData.level==t.level&&this.onOpendLevel(!0)},e.prototype.onOpendLevel=function(t){var e=this;if(void 0===t&&(t=!1),!(this.mOpening||this.LogicData.level>Lite.data.getCurrentLevel()))if(Lite.data.getSpNum()<=0)Lite.ui.pushUIForm(c.default.spForm,null);else{this.mOpening=!0,moosnow.platform.hideBanner();var o=Lite.data.getMistouchTag();moosnow.http.getAllConfig(function(n){moosnow.http.getMisTouchNum(function(i){if(Lite.data.setMistouchTag(o+1),moosnow.form.hideAd(function(){}),e.mOpening=!1,0==i)moosnow.event.sendEventImmediately(s.default.GAME_STATE_START,e.LogicData.level);else{var r=n&&n.mistouchInterval?parseInt(n.mistouchInterval):2,a=Lite.ui.getUIFrom(c.default.HomeForm),u=Lite.ui.getUIFrom(c.default.GameForm);u?u.node.zIndex+1:a.node.zIndex+1,o%r==0?Lite.ui.pushUIForm(c.default.MistouchForm,{isReplay:t,level:e.LogicData.level},function(){e.mOpening=!1}):(e.mOpening=!1,u||moosnow.event.sendEventImmediately(s.default.GAME_STATE_START,e.LogicData.level))}})})}},e.prototype.openTryForm=function(){var t=[];u.Skin.getAll().forEach(function(e){Lite.data.getUserSkinById(e.ID)||t.push(e)}),moosnow.form.hideAd(function(){}),0!=t.length?Lite.ui.pushUIForm(c.default.TryForm,a.default.deepCopy(this.LogicData)):moosnow.event.sendEventImmediately(s.default.GAME_STATE_START,this.LogicData.level)},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.mOpening=!1,this.node.setPosition(e.x,e.y),this.memo.getComponent(cc.Label).string=e.memo;var o=Lite.data.getCurrentLevel();this.player.active=!1,this.locked.active=!1,e.level>o?(this.logo.active=!1,this.locked.active=!0):e.level<o?(this.locked.active=!1,this.logo.active=!0,this.showStar(e.prefab)):this.player.active=!0,this.addListener()},e.prototype.showStar=function(t){},e.prototype.willHide=function(){this.removeListener()},i([f(cc.Node)],e.prototype,"logo",void 0),i([f(cc.Node)],e.prototype,"player",void 0),i([f(cc.Node)],e.prototype,"locked",void 0),i([f(cc.Node)],e.prototype,"memo",void 0),i([f(cc.SpriteFrame)],e.prototype,"skinFrame",void 0),e=i([l],e)}(r.default);o.default=h,cc._RF.pop()},{"../../sheets/vo/Skin":"Skin","../config/UIForms":"UIForms","../framework/entity/EntityLogic":"EntityLogic","../utils/Common":"Common","../utils/EventType":"EventType"}],MapManage:[function(t,e,o){"use strict";cc._RF.push(e,"a5b832rPCpK4K/gUHrrW7Vo","MapManage");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../utils/EventType"),s=t("../../sheets/vo/LevelCfg"),a=t("../config/Entitys"),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pointContainer=null,e.roleContainer=null,e.guideContainer=null,e.guide1=null,e.guide2=null,e.guide3=null,e.cutNum=1,e}return n(e,t),e.prototype.start=function(){this.initLevel()},e.prototype.initLevel=function(){var t=this,e=this.pointContainer.children.map(function(t){return t.active=!1,{name:t.name,x:t.x,y:t.y,width:t.width,height:t.height,rotation:t.rotation}});this.pointContainer.removeAllChildren(),e.forEach(function(e){Lite.entity.showEntity(e.name,t.pointContainer,e)}),this.roleContainer.active=!1,Lite.entity.showEntity(a.default.tomato,this.node,{x:this.roleContainer.x,y:this.roleContainer.y,level:this.LogicData.level})},e.prototype.onShow=function(){var t=this;this.cutNum=1,moosnow.event.addListener(c.default.GAME_CUT_END,this,this.onLevelEnd),moosnow.event.addListener(c.default.OBJECT_CUT,this,function(){t.cutNum+=1;var e="guide"+t.LogicData.level+t.cutNum;if(t.guideContainer){var o=t.guideContainer.getComponent(cc.Animation);if(o.stop(),o.getClips().filter(function(t){return t.name==e}).length>0)return void o.play(e);t.guideContainer.active=!1}}),moosnow.platform.showAutoBanner(),this.node.zIndex=-1},e.prototype.onLevelEnd=function(){if(0==Lite.entity.getAllEntity(a.default.clound).length){Lite.entity.showEntity(a.default.clound,this.node,{level:this.LogicData.level});var t=s.LevelCfg.get(this.LogicData.level);this.scheduleOnce(this.gameEnd,t.rainTime+1.5)}},e.prototype.gameEnd=function(){moosnow.event.sendEventImmediately(c.default.GAME_LEVEL_END,null)},e.prototype.onHide=function(){moosnow.event.removeListener(c.default.GAME_CUT_END,this),moosnow.event.removeListener(c.default.OBJECT_CUT,this)},i([l(cc.Node)],e.prototype,"pointContainer",void 0),i([l(cc.Node)],e.prototype,"roleContainer",void 0),i([l(cc.Node)],e.prototype,"guideContainer",void 0),i([l(cc.Node)],e.prototype,"guide1",void 0),i([l(cc.Node)],e.prototype,"guide2",void 0),i([l(cc.Node)],e.prototype,"guide3",void 0),e=i([p],e)}(r.default);o.default=f,cc._RF.pop()},{"../../sheets/vo/LevelCfg":"LevelCfg","../config/Entitys":"Entitys","../framework/entity/EntityLogic":"EntityLogic","../utils/EventType":"EventType"}],MathUtils:[function(t,e,o){"use strict";cc._RF.push(e,"dcce1MonZFGOba8lwIy196V","MathUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.getAngle=function(t){return 180*t/Math.PI},t.getRadian=function(t){return t/180*Math.PI},t.getRadianByPoint=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t.getAngleByPoint=function(t,e){return 180*this.getRadianByPoint(t,e)/Math.PI},t.detectCollision=function(t,e){var o,n;return o=e.x<t.x?t.x:e.x>t.x+t.w?t.x+t.w:e.x,n=e.y<t.y?t.y:e.y>t.y+t.h?t.y+t.h:e.y,function(t,e,o,n){return Math.sqrt(Math.pow(o-t,2)+Math.pow(n-e,2))}(e.x,e.y,o,n)<e.r},t.vecRotate=function(e,o){var n=t.getRadian(o),i=Math.sin(n),r=Math.cos(n),c=r*e.x-i*e.y,s=i*e.x+r*e.y;return new cc.Vec2(c,s)},t.getRadianTwoPoint=function(t,e){var o=e.x-t.x,n=e.y-t.y;return Math.atan2(n,o)},t.getAngleTwoPoint=function(t,e){var o,n=e.y-t.y,i=e.x-t.x;return 0==n?i<0?180:0:0==i?(n>0?o=90:n<0&&(o=270),o):(o=this.getAngle(Math.atan(Math.abs(n)/Math.abs(i))),i>0?n<0&&(o=360-o):o=n>0?180-o:180+o,o)},t.getAngleTwoVec=function(t,e){var o=Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x);return this.getAngle(o)},t.getDistance=function(t,e){var o=e.x-t.x,n=e.y-t.y,i=Math.pow(o,2)+Math.pow(n,2);return Math.sqrt(i)},t.exactCount=function(t,e){void 0===e&&(e=0);var o=Math.pow(10,e);return(t*o|0)/o},t.getBezierCutAngle=function(t,e,o,n){var i=2*(t.x*(n-1)+e.x*(1-2*n)+o.x*n),r=2*(t.y*(n-1)+e.y*(1-2*n)+o.y*n);return this.getAngle(Math.atan2(r,i))},t.randomNumBoth=function(t,e){var o=e-t,n=Math.random();return t+Math.round(n*o)},t.probabilityCanHappen=function(e){return t.randomNumBoth(0,100)<=e},t.rectCollision=function(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.height+t.y>e.y},t}();o.default=n,cc._RF.pop()},{}],ModelMapping:[function(t,e,o){"use strict";cc._RF.push(e,"55ffcKqJ31KQKAsirESywWS","ModelMapping"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.getList=function(){var e=[];for(var o in t)e.push((new t[o]).url);return e},t}();o.default=n,cc._RF.pop()},{}],MoveUtil:[function(t,e,o){"use strict";cc._RF.push(e,"9043dW+tUdOVI6hocX3RwVh","MoveUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ArrayUtil"),i=function(){return function(t,e,o,n,i){this.mV=3,this.mT=0,this.mInterval=.01,this.mAccel=5,this.mV=t,this.mT=e,this.mInterval=o,this.mAccel=n,this.mCallback=i}}(),r=function(){function t(){this.mTaskId=0,this.mTask=[]}return t.prototype.addTask=function(t,e,o,n,r){this.mTask.push(new i(t,e,o,n,r))},t.prototype.onUpdate=function(t){for(var e=0;e<this.mTask.length;e++){var o=this.mTask[e];o.mT+=o.mInterval;var i=o.mV*o.mT+o.mAccel*Math.pow(o.mT,2)/2;this.mTask[e]=o,0==o.mCallback(i)&&n.default.remove(this.mTask,o)}},t}();o.default=r,cc._RF.pop()},{"./ArrayUtil":"ArrayUtil"}],PhysicsSetting:[function(t,e,o){"use strict";cc._RF.push(e,"2f730GsdGROgpx/sEkKeJIs","PhysicsSetting"),cc.game.on(cc.game.EVENT_ENGINE_INITED,function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0}),cc._RF.pop()},{}],PillarStaticControl:[function(t,e,o){"use strict";cc._RF.push(e,"4b9a8xt/vNBMoBLrtxS+alQ","PillarStaticControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/entity/EntityLogic"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mBeforeBodyType=null,e}return n(e,t),e.prototype.start=function(){this.mBeforeBodyType=this.node.getComponent(cc.RigidBody).type},e.prototype.willShow=function(t){this.node.active=!1,this.node.x=t.x,this.node.y=t.y,t.width&&(this.node.width=t.width),t.height&&(this.node.height=t.height);var e=this.node.getComponent(cc.PhysicsBoxCollider);e.size=new cc.Size(this.node.width,this.node.height),e.apply(),this.node.getComponent(cc.BoxCollider).size=new cc.Size(this.node.width,this.node.height)},e=i([s],e)}(r.default));o.default=a,cc._RF.pop()},{"../../framework/entity/EntityLogic":"EntityLogic"}],PrizeBox:[function(t,e,o){"use strict";cc._RF.push(e,"2a2b9LO8xZFppnJTyYibSPi","PrizeBox");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("prizeBox",t,e)},e.getAll=function(){var t,o=r.SheetManager.getList("prizeBox"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(i.PrizeBoxBase);o.PrizeBox=c,cc._RF.pop()},{"../../script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],RainControl:[function(t,e,o){"use strict";cc._RF.push(e,"3fb95c/k9RG47OAG5EweGYt","RainControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/entity/EntityLogic"),c=t("../../utils/Common"),s=cc._decorator,a=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mSpeed=1,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.onCollisionEnter=function(t,e){Lite.entity.hideEntity(this,null)},e.prototype.onBeginContact=function(t,e,o){},e.prototype.onShow=function(){var t=this;this.mSpeed=c.default.randomNumBoth(70,100)/10;var e=-cc.Canvas.instance.node.height-130;Lite.moveUtil.addTask(0,0,.15,-this.mSpeed,function(o){if(t.node.y=o,t.node.y<e)return console.log("rain y ",t.node.y),Lite.entity.hideEntity(t,null),!1})},e.prototype.onHide=function(){this.node.active=!1},e=i([a],e)}(r.default));o.default=u,cc._RF.pop()},{"../../framework/entity/EntityLogic":"EntityLogic","../../utils/Common":"Common"}],ResourceModule:[function(t,e,o){"use strict";cc._RF.push(e,"625c74Q2O9HApOzeuzwGx1+","ResourceModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.onEnable=function(){},e.prototype.loadAsset=function(t,e,o){var n=cc.loader.getRes(t,e);n?o&&o(null,n):cc.loader.loadRes(t,e,function(t,e){o&&o(t,e)})},e.prototype.loadAssetDir=function(t,e,o,n){cc.loader.loadResDir(t,e,function(t,e,n){var i=t/e*100;i=Math.ceil(i),o&&o(i)},function(t,e){n&&n(t,e)})},e.prototype.onDisable=function(){},e}(t("./BaseModule").default);o.default=i,cc._RF.pop()},{"./BaseModule":"BaseModule"}],RevoluteControl:[function(t,e,o){"use strict";cc._RF.push(e,"f8270vtYWpEcqR3FSJLZDwI","RevoluteControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/entity/EntityLogic"),c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.point=null,e.swingArm=null,e.pointLogo=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.willShow=function(t){this.node.active=!1,this.node.x=t.x,this.node.y=t.y,this.node.rotation=t.rotation,t.width&&(this.node.width=t.width,this.swingArm.width=this.node.width),t.height&&(this.node.height=t.height,this.swingArm.height=this.node.height);var e=this.swingArm.getComponent(cc.PhysicsBoxCollider);e.size=new cc.Size(this.node.width,this.node.height),e.apply(),this.swingArm.getComponent(cc.BoxCollider).size=new cc.Size(this.node.width,this.node.height);var o=this.point.convertToWorldSpaceAR(cc.Vec2.ZERO),n=this.swingArm.convertToNodeSpaceAR(o);this.pointLogo.x=n.x,this.pointLogo.y=n.y;var i=this.swingArm.getComponent(cc.RevoluteJoint);i.anchor=new cc.Vec2(n.x,0),i.apply(),this.node.active=!0},i([a(cc.Node)],e.prototype,"point",void 0),i([a(cc.Node)],e.prototype,"swingArm",void 0),i([a(cc.Node)],e.prototype,"pointLogo",void 0),e=i([s],e)}(r.default);o.default=u,cc._RF.pop()},{"../../framework/entity/EntityLogic":"EntityLogic"}],RoleControl:[function(t,e,o){"use strict";cc._RF.push(e,"d2847W/ropCWKnlOpatNAMs","RoleControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../../sheets/vo/LevelCfg"),s=t("../utils/EventType"),a=cc._decorator,u=a.ccclass,p=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mReceiveNum=0,e.mWinNum=0,e.mRainTime=0,e.mIsWin=!1,e.mIsEnd=!1,e.mTotalTime=0,e.mIsOver=!1,e}return n(e,t),e.prototype.start=function(){},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.mReceiveNum=0,this.mWinNum=0,this.mRainTime=0,this.mIsWin=!1,this.mIsEnd=!1,this.mTotalTime=0,this.mIsOver=!1},e.prototype.onShow=function(){this.mLevelCfg=c.LevelCfg.get(this.LogicData.level),this.mLevelCfg.roleSize.sort(function(t,e){return t.num-e.num}),this.mWinNum=this.mLevelCfg.winNum,this.mRainTime=this.mLevelCfg.rainTime,moosnow.event.addListener(s.default.GAME_LEVEL_END,this,this.levelEnd),this.node.getComponent(cc.Animation).play("none"),this.showReceiveBar(0,1)},e.prototype.levelEnd=function(){this.mIsOver=!0},e.prototype.showReceiveBar=function(t,e){var o=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO);moosnow.event.sendEventImmediately(s.default.RECEIVE_RAIN,{winNum:this.mWinNum,receiveNum:t,pos:{x:o.x+this.node.width*e/2+100,y:o.y}})},e.prototype.onCollisionEnter=function(t,e){if("rain"==t.node.group){this.mReceiveNum++;for(var o=0;o<this.mLevelCfg.roleSize.length;o++){var n=this.mLevelCfg.roleSize[o];if(n.num>=this.mReceiveNum){this.node.runAction(cc.sequence(cc.scaleTo(.2,n.size,n.size),cc.callFunc(function(){})));break}}}},e.prototype.onEndContact=function(t,e,o){},e.prototype.onFwUpdate=function(t){var e=this;if(this.showReceiveBar(this.mReceiveNum,this.node.scale),this.mIsOver&&!this.mIsEnd&&!this.mIsWin&&(this.mTotalTime+=t,this.mIsWin=this.mReceiveNum>=this.mWinNum,this.mTotalTime>this.mRainTime&&(this.mIsEnd=!0),this.mIsEnd||this.mIsWin)){console.log("role ",this.mReceiveNum,this.mWinNum);var o=this.node.getComponent(cc.Animation);this.mIsWin?(Lite.audio.playWin(),o.play("win1")):(Lite.audio.playFail(),o.play("fail1")),this.scheduleOnce(function(){moosnow.event.sendEventImmediately(s.default.GAME_STATE_OVER,{isWin:e.mIsWin,level:e.LogicData.level})},1.5)}},e=i([u],e)}(r.default));o.default=p,cc._RF.pop()},{"../../sheets/vo/LevelCfg":"LevelCfg","../framework/entity/EntityLogic":"EntityLogic","../utils/EventType":"EventType"}],RollerChainControl:[function(t,e,o){"use strict";cc._RF.push(e,"5a675l13mxLl4T1s2gXG4i9","RollerChainControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/entity/EntityLogic"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.willShow=function(t){this.node.active=!1,this.node.x=t.x,this.node.y=t.y},e=i([s],e)}(r.default));o.default=a,cc._RF.pop()},{"../../framework/entity/EntityLogic":"EntityLogic"}],SPControl:[function(t,e,o){"use strict";cc._RF.push(e,"0bda3lRG09B+avMjRPaStDk","SPControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../utils/Common"),c=t("../../utils/EventType"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtSp=null,e.txtTime=null,e}return n(e,t),e.prototype.start=function(){var t=this;moosnow.event.addListener(c.default.SP_NUM_CHANGED,this,function(e){t.txtSp.string=e}),this.txtSp.string=""+Lite.data.getSpNum();var e=Lite.data.getSpTime();0==e&&(e=Date.now());var o=0,n=Math.floor(parseInt(""+(e-Date.now())/1e3/90));n>0&&Lite.data.addSp(n),this.schedule(function(){o++,t.txtTime.string=r.default.secondToDate(90-o),90-o==0&&(o=0,Lite.data.addTimeSp())},1)},i([u(cc.Label)],e.prototype,"txtSp",void 0),i([u(cc.Label)],e.prototype,"txtTime",void 0),e=i([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../utils/Common":"Common","../../utils/EventType":"EventType"}],SawdustControl:[function(t,e,o){"use strict";cc._RF.push(e,"f325a6fJclE67+Jp+gftt+v","SawdustControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../utils/Common"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effect1=null,e.effect2=null,e.effect3=null,e.effect4=null,e.effect5=null,e.effect6=null,e.effect7=null,e.effect8=null,e.effect9=null,e.effect10=null,e.effect11=null,e.effect12=null,e.mEffect=[],e}return n(e,t),e.prototype.onShow=function(t){var e=this,o=c.default.randomNumBoth(0,3),n=Math.random()>.5?o:-o,i=c.default.randomNumBoth(10,15)/100;this.node.x=0,this.node.y=0,Lite.moveUtil.addTask(o,0,i,-10,function(t){if(e.node.y=t,e.node.x+=n,t<-400)return Lite.entity.hideEntity(e,null),!1}),this.node.getComponent(cc.Sprite).spriteFrame=this["effect"+c.default.randomNumBoth(1,12)]},i([u(cc.SpriteFrame)],e.prototype,"effect1",void 0),i([u(cc.SpriteFrame)],e.prototype,"effect2",void 0),i([u(cc.SpriteFrame)],e.prototype,"effect3",void 0),i([u(cc.SpriteFrame)],e.prototype,"effect4",void 0),i([u(cc.SpriteFrame)],e.prototype,"effect5",void 0),i([u(cc.SpriteFrame)],e.prototype,"effect6",void 0),i([u(cc.SpriteFrame)],e.prototype,"effect7",void 0),i([u(cc.SpriteFrame)],e.prototype,"effect8",void 0),i([u(cc.SpriteFrame)],e.prototype,"effect9",void 0),i([u(cc.SpriteFrame)],e.prototype,"effect10",void 0),i([u(cc.SpriteFrame)],e.prototype,"effect11",void 0),i([u(cc.SpriteFrame)],e.prototype,"effect12",void 0),e=i([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic","../utils/Common":"Common"}],SheetManager:[function(t,e,o){"use strict";cc._RF.push(e,"75c8dJgBUhLAq8lAxh3UiqE","SheetManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.loadDB=function(t,e){var o=this;cc.loader.load(t,function(t,n){t&&console.warn("loadDB err ",t),console.log("load db ",n),o.data=n,e()})},t.get=function(t,e,o){var n=this.data[t][e];if(n){for(var i,r=this.getKeys(this.data[t].keys),c=new o,s=0;s<r.length;s++)i=this.data.dic[n[s]],c[r[s]]="null"!==i?i:null;return o[e]=c,c}},t.getKeys=function(t){for(var e=[],o=0;o<t.length;o++){var n=t[o];e.push(this.data.dic[n])}return e},t.getTableLength=function(t){var e=this.data[t];if(e.length)return e.length;var o=0;for(var n in e)o++;return e.length=o-1,o-1},t.getList=function(t){return this.data[t]},t.getComplexLength=function(t,e){return this.data[t][e].length},t.getComplex=function(t,e,o){for(var n=this.getList(t)[e],i=this.getKeys(this.data[t].keys),r=[],c=0;c<n.length;c++){for(var s,a=new o,u=0;u<i.length;u++)s=this.data.dic[n[c][u]],a[i[u]]="null"!==s?s:null;r.push(a)}return r},t.getAllSheets=function(t,e){var o=this.getList(t),n=[];for(var i in o)"keys"!=i&&n.push(this.get(t,i,e));return n},t}();o.SheetManager=n,cc._RF.pop()},{}],Sheets:[function(t,e,o){"use strict";cc._RF.push(e,"15d36gXNE9MgbwoQwqki+J4","Sheets"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(){}}();o.LevelCfgBase=n;var i=function(){return function(){}}();o.PrizeBoxBase=i;var r=function(){return function(){}}();o.EasterEggBase=r;var c=function(){return function(){}}();o.SignBase=c;var s=function(){return function(){}}();o.SkinBase=s;var a=function(){return function(){}}();o.SignVoBase=a;var u=function(){return function(){}}();o.ConfigDataBase=u,cc._RF.pop()},{}],SignVo:[function(t,e,o){"use strict";cc._RF.push(e,"93cbeahkN5KrI5K5wpxr3Rx","SignVo");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("SignVo",t,e)},e}(i.SignVoBase);o.SignVo=c,cc._RF.pop()},{"../../script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],Sign:[function(t,e,o){"use strict";cc._RF.push(e,"bf9a2eOQVdAtaPBkJuybhoo","Sign");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("Sign",t,e)},e}(i.SignBase);o.Sign=c,cc._RF.pop()},{"../../script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],SimpleMotion:[function(t,e,o){"use strict";cc._RF.push(e,"7e88eSeJhhNWodh8SggCuJK","SimpleMotion"),cc.Class({extends:cc.Component,properties:{moveSpeed:100,rotationSpeed:90},onLoad:function(){},update:function(t){this.node.x+=t*this.moveSpeed,this.node.angle+=t*this.rotationSpeed}}),cc._RF.pop()},{}],SkinItem:[function(t,e,o){"use strict";cc._RF.push(e,"4cc3eqfWm1DF4M7rkK3aNGR","SkinItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/EventType"),c=t("../../sheets/vo/Skin"),s=t("../utils/Common"),a=t("../framework/entity/EntityLogic"),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logo=null,e.locked=null,e.checked=null,e.coinNum=null,e}return n(e,t),e.prototype.start=function(){this.addListener()},e.prototype.addListener=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){Lite.data.setSelectSkin(t.LogicData.ID),Lite.data.getUserSkinById(t.LogicData.ID)&&Lite.data.setCurrentSkinId(t.LogicData.ID),moosnow.event.sendEventImmediately(r.default.SKIN_SELECT,t.LogicData.ID)},this),moosnow.event.addListener(r.default.SKIN_SELECT,this,function(e){t.LogicData.ID!=e?t.checked.active=!1:t.checked.active=!0}),moosnow.event.addListener(r.default.SKIN_CHANGE,this,function(e){t.showLocked(e)})},e.prototype.willShow=function(e){var o=this;t.prototype.willShow.call(this,e);var n=c.Skin.get(this.LogicData.ID),i=Lite.data.getCurrentSkinId();this.checked.active=!1,this.locked.node.active=!0,this.showLocked(i),this.coinNum.string=""+s.default.formatMoney(n.coinNum),Lite.resource.loadAsset("skin/"+this.LogicData.ID+"/7.png",cc.SpriteFrame,function(t,e){t||(o.logo.spriteFrame=e)})},e.prototype.showLocked=function(t){var e=c.Skin.get(this.LogicData.ID),o=Lite.data.getUserSkin();if(t==e.ID)this.checked.active=!0,this.locked.node.active=!1;else for(var n in o)n==this.LogicData.ID&&(o[n].videoNum>=e.videoNum||0!=o[n].coinNum)&&(this.locked.node.active=!1)},i([l(cc.Sprite)],e.prototype,"logo",void 0),i([l(cc.Sprite)],e.prototype,"locked",void 0),i([l(cc.Node)],e.prototype,"checked",void 0),i([l(cc.Label)],e.prototype,"coinNum",void 0),e=i([p],e)}(a.default);o.default=f,cc._RF.pop()},{"../../sheets/vo/Skin":"Skin","../framework/entity/EntityLogic":"EntityLogic","../utils/Common":"Common","../utils/EventType":"EventType"}],Skin:[function(t,e,o){"use strict";cc._RF.push(e,"1e8e7+vQ+1A7r5qhhYH2HJX","Skin");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("Skin",t,e)},e.getAll=function(){var t,o=r.SheetManager.getList("Skin"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(i.SkinBase);o.Skin=c,cc._RF.pop()},{"../../script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],ToastForm:[function(t,e,o){"use strict";cc._RF.push(e,"4ae66kORoZKrL8ETytD9nMr","ToastForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=t.call(this)||this;return e.msgText=null,e}return n(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.show=function(t){this.node.zIndex=9999,this.msgText.getComponent(cc.Label).string=t,this.node.active=!0,this.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),this.scheduleOnce(this.hide,1)},e.prototype.hide=function(){this.node.active=!1},i([a(cc.Node)],e.prototype,"msgText",void 0),e=i([s],e)}(r.default);o.default=u,cc._RF.pop()},{"../../framework/ui/UIForm":"UIForm"}],TouchManager:[function(t,e,o){"use strict";cc._RF.push(e,"ab5eeq9eshHcY+EXJeklBPK","TouchManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/EventType"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=t.call(this)||this;return e.mListen=["HomeForm"],e}return n(e,t),e.prototype.start=function(){this.addListener()},e.prototype.addListener=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.mouseDown,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.mouseMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.mouseUp,this)},e.prototype.mouseDown=function(t){console.log("mouseDown ",t.getTouches()[0]),moosnow.event.sendEventImmediately(r.default.TOUCH_DOWN,t)},e.prototype.mouseMove=function(t){moosnow.event.sendEventImmediately(r.default.TOUCH_MOVE,t)},e.prototype.mouseUp=function(t){moosnow.event.sendEventImmediately(r.default.TOUCH_UP,t)},e.prototype.removeListener=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.mouseDown,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.mouseMove,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.mouseUp,this)},e.prototype.onDisable=function(){this.removeListener()},e=i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../utils/EventType":"EventType"}],UIForms:[function(t,e,o){"use strict";cc._RF.push(e,"d61daDJKXZM+7VmEImeGFsh","UIForms");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e,"mapping",{get:function(){var t,e,o,n,i,r,c,s,a;return{adForm:(t={},t[moosnow.APP_PLATFORM.WX]="adForm",t[moosnow.APP_PLATFORM.OPPO]="adFormOPPO",t[moosnow.APP_PLATFORM.OPPO_ZS]="adFormOPPO",t[moosnow.APP_PLATFORM.VIVO]="adFormQQ",t[moosnow.APP_PLATFORM.QQ]="adFormQQ",t[moosnow.APP_PLATFORM.BYTEDANCE]="adFormTT",t),pauseForm:(e={},e[moosnow.APP_PLATFORM.WX]="pauseForm",e[moosnow.APP_PLATFORM.BYTEDANCE]="pauseFormTT",e[moosnow.APP_PLATFORM.OPPO]="pauseFormOPPO",e[moosnow.APP_PLATFORM.OPPO_ZS]="pauseFormOPPO",e[moosnow.APP_PLATFORM.VIVO]="pauseFormVIVO",e[moosnow.APP_PLATFORM.QQ]="pauseFormTT",e),respawnForm:(o={},o[moosnow.APP_PLATFORM.WX]="respawnForm",o[moosnow.APP_PLATFORM.BYTEDANCE]="respawnFormTT",o[moosnow.APP_PLATFORM.OPPO]="respawnFormOPPO",o[moosnow.APP_PLATFORM.OPPO_ZS]="respawnFormOPPO",o[moosnow.APP_PLATFORM.VIVO]="respawnFormOPPO",o[moosnow.APP_PLATFORM.QQ]="respawnFormQQ",o),endForm:(n={},n[moosnow.APP_PLATFORM.WX]="endForm",n[moosnow.APP_PLATFORM.BYTEDANCE]="endForm",n[moosnow.APP_PLATFORM.OPPO]="endFormOPPO",n[moosnow.APP_PLATFORM.OPPO_ZS]="endFormOPPO",n[moosnow.APP_PLATFORM.VIVO]="endFormVIVO",n),totalForm:(i={},i[moosnow.APP_PLATFORM.WX]="totalForm",i[moosnow.APP_PLATFORM.BYTEDANCE]="totalFormTT",i[moosnow.APP_PLATFORM.QQ]="totalFormQQ",i[moosnow.APP_PLATFORM.OPPO]="totalFormOPPO",i[moosnow.APP_PLATFORM.OPPO_ZS]="totalFormOPPO",i[moosnow.APP_PLATFORM.VIVO]="totalFormVIVO",i),tryForm:(r={},r[moosnow.APP_PLATFORM.WX]="tryForm",r[moosnow.APP_PLATFORM.BYTEDANCE]="tryFormTT",r[moosnow.APP_PLATFORM.QQ]="tryFormTT",r),prizeForm:(c={},c[moosnow.APP_PLATFORM.BYTEDANCE]="prizeFormTT",c[moosnow.APP_PLATFORM.QQ]="prizeForm",c),openBoxForm:(s={},s[moosnow.APP_PLATFORM.WX]="openBoxFormTT",s[moosnow.APP_PLATFORM.BYTEDANCE]="openBoxFormTT",s),easterEggForm:(a={},a[moosnow.APP_PLATFORM.WX]="easterEggFormTT",a[moosnow.APP_PLATFORM.BYTEDANCE]="easterEggFormTT",a)}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"AdForm",{get:function(){return this.convertUIName(this.mapping.adForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TotalForm",{get:function(){return this.convertUIName(this.mapping.totalForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"EasterEggForm",{get:function(){return this.convertUIName(this.mapping.easterEggForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"EndForm",{get:function(){return this.convertUIName(this.mapping.endForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PauseForm",{get:function(){return this.convertUIName(this.mapping.pauseForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"RespawnForm",{get:function(){return this.convertUIName(this.mapping.respawnForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PrizeForm",{get:function(){return this.convertUIName(this.mapping.prizeForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TryForm",{get:function(){return this.convertUIName(this.mapping.tryForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OpenBoxForm",{get:function(){return this.convertUIName(this.mapping.openBoxForm)},enumerable:!0,configurable:!0}),e.HomeForm="homeForm",e.SkinForm="skinForm",e.GameForm="gameForm",e.CoinForm="coinForm",e.videoForm="videoForm",e.spForm="spForm",e.ShareForm="shareForm",e.MistouchForm="mistouchForm",e.FollowForm="followForm",e.ToastForm="toastForm",e.SetForm="setForm",e}(t("./UIMapping").default);o.default=i,cc._RF.pop()},{"./UIMapping":"UIMapping"}],UIForm:[function(t,e,o){"use strict";cc._RF.push(e,"0f40ewXlJlF2pZzMVgqh8Ot","UIForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../extends/DelayEx"),r=function(t){function e(){var e=t.call(this)||this;return e.isPopEffect=!1,e.isMask=!1,e.fullView=!0,e.formName="",e.maskName="img_mask",e.texture=null,e.formName="",e}return n(e,t),e.prototype.start=function(){this.isMask&&this.addMask()},e.prototype.getSingleTexture=function(){if(this.texture)return this.texture;for(var t=new Uint8Array(16),e=0;e<2;e++)for(var o=0;o<2;o++)t[2*e*4+4*o+0]=255,t[2*e*4+4*o+1]=255,t[2*e*4+4*o+2]=255,t[2*e*4+4*o+3]=255;var n=new cc.Texture2D;return n.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,2,2),n.handleLoadedTexture(),this.texture=n,this.texture},e.prototype.addMask=function(){if(this.node.getChildByName(this.maskName))this.node.active=!0;else{var t=new cc.Node,e=t.addComponent(cc.Sprite),o=t.addComponent(cc.Widget);o.isAlignLeft=o.isAlignTop=o.isAlignRight=o.isAlignBottom=!0,o.left=o.top=o.right=o.bottom=0;var n=this.getSingleTexture();e.spriteFrame=new cc.SpriteFrame(n),t.color=new cc.Color(0,0,0),t.opacity=126,t.active=!0,e.type=cc.Sprite.Type.SLICED,e.spriteFrame.insetBottom=1,e.spriteFrame.insetTop=1,e.spriteFrame.insetLeft=1,e.spriteFrame.insetRight=1,t.width=this.node.width,t.height=this.node.height,this.node.addChild(t),t.name=this.maskName,t.zIndex=-1,t.on(cc.Node.EventType.TOUCH_START,this.onMaskMouseDown,this)}},e.prototype.showDelay=function(){var t=this.getComponent(i.default);t&&t.onShow()},e.prototype.removeMask=function(){this.node.getChildByName(this.maskName)&&(this.node.active=!1)},e.prototype.onMaskMouseDown=function(t){t.stopPropagation()},e.prototype.hide=function(){},Object.defineProperty(e.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),e.prototype.willShow=function(t){this.mFormData=t,this.showDelay()},e.prototype.onShow=function(t){},e.prototype.willHide=function(t){},e.prototype.onHide=function(t){},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.hideAnim=function(t){t()},e}(cc.Component);o.default=r,cc._RF.pop()},{"../../extends/DelayEx":"DelayEx"}],UIMapping:[function(t,e,o){"use strict";cc._RF.push(e,"5e042GcQQtOk55gw65Q4pdC","UIMapping"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.convertUIName=function(t){if(!t)return console.warn("convertUIName fail  mappingForm is null "),null;var e=moosnow.getAppPlatform();return t[e]?t[e]:t[moosnow.APP_PLATFORM.WX]?t[moosnow.APP_PLATFORM.WX]:(console.warn("convertUIName fail ",t),null)},t}();o.default=n,cc._RF.pop()},{}],UIModule:[function(t,e,o){"use strict";cc._RF.push(e,"7cdd0bL36NEArchOk+SSNnb","UIModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(){return function(){this.name="",this.node=null,this.UIForm=null,this.zIndex=0,this.name="",this.node=null,this.UIForm=null,this.zIndex=0}}(),u=t("./BaseModule"),p=t("../ui/UIForm"),l=t("../ui/ToastForm"),f=t("../../utils/Common"),h=function(t){function e(){var e=t.call(this)||this;return e.toastForm=null,e.gameForm=null,e.homeForm=null,e.endForm=null,e.videoForm=null,e.spForm=null,e.shareForm=null,e.mistouchForm=null,e.followForm=null,e.layerIndex=0,e.UIRoot="",e.UIFormStack=[],e.cachedUIForms=[],e.mToastForm=null,e.layerIndex=0,e.UIRoot="prefab/ui/",e.UIFormStack=[],e.cachedUIForms=[],e}return n(e,t),e.prototype.start=function(){Lite.ui=this},e.prototype.showToast=function(t){var e=this;null==this.mToastForm?this._createUINode("toastForm",1e3,function(o,n){cc.Canvas.instance.node.addChild(o),e.mToastForm=o.getComponent(l.default),o.zIndex=n,e.mToastForm.show(t)}):this.mToastForm.show(t)},e.prototype.pushUIForm=function(t,e,o){var n=this,i=this._getUINodeFromCacheByName(t);null==i?this._createUIFormModel(t,function(t){n._showUIForm(t,e),o&&o(t,e)}):(i.zIndex=this.layerIndex++,this.UIFormStack.push(i),this._showUIForm(i,e),o&&o(i,e))},e.prototype.pop=function(t,e){if(void 0===t&&(t=!1),0!=this.UIFormStack.length){var o=this.UIFormStack.pop();t?this._destroyUIForm(o,null):this._hideUIForm(o,null,e)}},e.prototype.getUIFrom=function(t){for(var e=0;e<this.UIFormStack.length;e++){var o=this.UIFormStack[e];if(o.name==t)return o.UIForm}},e.prototype.hideUIForm=function(t,e,o){for(var n=0;n<this.UIFormStack.length;n++){var i=this.UIFormStack[n];i.name==t&&this._hideUIForm(i,e,o)}},e.prototype.hideAllUIForm=function(){for(var t=this.UIFormStack.length-1;t>=0;t--){var e=this.UIFormStack[t];this._hideUIForm(e,null)}},e.prototype.destroyUIForm=function(t,e){for(var o=0;o<this.UIFormStack.length;o++){var n=this.UIFormStack[o];n.name==t&&this._destroyUIForm(n,e)}},e.prototype._formatUIFormName=function(t){return t.replace(/\//g,"_")},e.prototype._createUINode=function(t,e,o){var n=cc.instantiate(this[t]);o&&o(n,e)},e.prototype._createUIFormModel=function(t,e){var o=this,n=this,i=new a;i.name=t;var r=this.layerIndex++;i.zIndex=r,this.UIFormStack.push(i),this._createUINode(t,r,function(r,c){for(var s=0;s<n.UIFormStack.length;s++){var a=n.UIFormStack[s];if(a.zIndex==c&&a.name==r.name){if(null==r)return void o._removeStack(s);var u=r.getComponent(p.default);return u.formName=t,a.UIForm=u,a.node=r,void(e&&e(i))}}})},e.prototype._getUINodeFromCacheByName=function(t){for(var e=0;e<this.cachedUIForms.length;e++){var o=this.cachedUIForms[e];if(null!=o.node&&o.name==t)return this.cachedUIForms.splice(e,1),o}return null},e.prototype._showUIForm=function(t,e){if(cc.Canvas.instance.node.addChild(t.node),t.UIForm.willShow(e),t.node.active=!0,e&&!isNaN(e.zIndex)?t.node.zIndex=e.zIndex:t.node.zIndex=t.zIndex,t.UIForm.onShow(e),t.UIForm.isPopEffect){var o=t.node;f.default.popOpenAnim(o)}},e.prototype._hideUIForm=function(t,e,o){if(t.UIForm.willHide(e),t.UIForm.onHide(e),this._removeStack(t),this.cachedUIForms.push(t),t.UIForm.isPopEffect){var n=t.node;f.default.popCloseAnim(n).then(function(){t.node.active=!1,t.node.removeFromParent(!1),o&&o()})}else t.UIForm.hideAnim(function(){t.node.active=!1,t.node.removeFromParent(!1),o&&o()})},e.prototype._destroyUIForm=function(t,e){t.UIForm.willHide(e),t.node.removeFromParent(),t.UIForm.onHide(e),t.node.active=!1,this._removeStack(t),t.node.destroy()},e.prototype._removeStack=function(t){var e=this;isNaN(t)?this.UIFormStack.forEach(function(o,n){o==t&&e.UIFormStack.splice(n,1)}):this.UIFormStack.splice(t,1)},i([s(cc.Prefab)],e.prototype,"toastForm",void 0),i([s(cc.Prefab)],e.prototype,"gameForm",void 0),i([s(cc.Prefab)],e.prototype,"homeForm",void 0),i([s(cc.Prefab)],e.prototype,"endForm",void 0),i([s(cc.Prefab)],e.prototype,"videoForm",void 0),i([s(cc.Prefab)],e.prototype,"spForm",void 0),i([s(cc.Prefab)],e.prototype,"shareForm",void 0),i([s(cc.Prefab)],e.prototype,"mistouchForm",void 0),i([s(cc.Prefab)],e.prototype,"followForm",void 0),e=i([c],e)}(u.default);o.UIModule=h,cc._RF.pop()},{"../../utils/Common":"Common","../ui/ToastForm":"ToastForm","../ui/UIForm":"UIForm","./BaseModule":"BaseModule"}],Utils3D:[function(t,e,o){"use strict";cc._RF.push(e,"9069ev5EyNPCJEfP+ealmqy","Utils3D"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.distance3D=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2))},Object.defineProperty(t,"defalutVec3",{get:function(){var t=this.mDefalutVec3||(this.mDefalutVec3=new Laya.Vector3);return t.toDefault(),t},enumerable:!0,configurable:!0}),t.setToVec3=function(t,e,o,n){return t.x=e,t.y=o,t.z=n,t},t.position=function(t,e,o,n){var i=t.transform.position;i.x=e,i.y=o,i.z=n,t.transform.position=i},t.localPosition=function(t,e,o,n){var i=t.transform.localPosition;i.x=e,i.y=o,i.z=n,t.transform.localPosition=t.transform.localPosition},t.localPositionByVec3=function(t,e){var o=t.transform.localPosition;o.x=e.x,o.y=e.y,o.z=e.z,t.transform.localPosition=t.transform.localPosition},t.rotation=function(t,e,o,n){var i=this.setToVec3(this.defalutVec3,e,o,n),r=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(i.y/r,i.x/r,i.z/r,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.rotationByVec3=function(t,e){var o=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(e.y/o,e.x/o,e.z/o,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.positionX=function(t,e){t.transform.position.x=e,t.transform.position=t.transform.position},t.positionY=function(t,e){t.transform.position.y=e,t.transform.position=t.transform.position},t.positionZ=function(t,e){var o=t.transform.position;return o.z=e,t.transform.position=t.transform.position,o.z},t.localPositionX=function(t,e){t.transform.localPosition.x=e,t.transform.localPosition=t.transform.localPosition},t.localPositionY=function(t,e){t.transform.localPosition.y=e,t.transform.localPosition=t.transform.localPosition},t.localPositionZ=function(t,e){var o=t.transform.localPosition;return o.z=e,t.transform.localPosition=t.transform.localPosition,o.z},t.rotationX=function(t,e){var o=this.setToVec3(this.defalutVec3,e,0,0),n=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(o.y/n,o.x/n,o.z/n,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.rotationY=function(t,e){var o=t.transform||t._transform,n=this.setToVec3(this.defalutVec3,0,e,0),i=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(n.y/i,n.x/i,n.z/i,o.localRotation),o.localRotation=o.localRotation},t.rotationYBy=function(t,e){var o=t.transform||t._transform,n=o.position.y,i=this.setToVec3(this.defalutVec3,0,e+n,0),r=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(i.y/r,i.x/r,i.z/r,o.localRotation),o.localRotation=o.localRotation},t.rotationZ=function(t,e){var o=this.setToVec3(this.defalutVec3,0,0,e),n=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(o.y/n,o.x/n,o.z/n,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.tweenScale=function(t,e,o,n,i,r,c,s,a){var u=this;return void 0===a&&(a=null),new Promise(function(a){var p=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);u.setToVec3(p,o,n,i),Laya.Tween.to(p,{x:r,y:c,z:s},e,Laya.Ease.bounceOut,Laya.Handler.create(u,function(){a()}),0,!1,!0).update=Laya.Handler.create(u,function(){t.transform?u.scale(t,p.x,p.y,p.z):a()},null,!1)})},t.scale=function(t,e,o,n){var i=t.transform.scale;i.x=e,i.y=o,i.z=n,t.transform.scale=i},t.scaleByVec3=function(t,e){t.transform.scale=e},t.scaleX=function(t,e){t.transform.scale.x=e,t.transform.scale=t.transform.scale},t.scaleY=function(t,e){t.transform.scale.y=e,t.transform.scale=t.transform.scale},t.scaleZ=function(t,e){t.transform.scale.z=e,t.transform.scale=t.transform.scale},t.tweenRotate=function(t,e,o,n,i,r,c,s){},t.rotateEuler=function(t,e,o,n,i,r,c,s){var a=this;return new Promise(function(u){var p=new Laya.Vector3;a.setToVec3(p,o,n,i),Laya.Tween.to(p,{x:r,y:c,z:s},e,null,Laya.Handler.create(a,function(){u()})).update=new Laya.Handler(a,function(){t.transform&&(t.transform.rotationEuler=p)},null,!1)})},t.tweenRotateByLayTween=function(t,e,o,n,i,r,c,s){var a=this,u=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(u,o,n,i),Laya.Tween.to(u,{x:r,y:c,z:s},e).update=new Laya.Handler(this,function(){t.transform&&a.rotationByVec3(t,u)},null,!1)},t.tweenLocalRotate=function(t,e,o,n,i,r,c,s){},t.tweenLocalPosition=function(t,e,o,n,i,r,c,s,a){var u=this;void 0===a&&(a=null);var p=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(p,o,n,i),Laya.Tween.to(p,{x:r,y:c,z:s},e,a).update=Laya.Handler.create(this,function(){t.transform&&u.localPosition(t,p.x,p.y,p.z)},null,!1)},t.tweenLocalPositionPromise=function(t,e,o,n,i,r,c,s,a){var u=this;return void 0===a&&(a=null),new Promise(function(p){var l=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);u.setToVec3(l,o,n,i),Laya.Tween.to(l,{x:r,y:c,z:s},e,a,Laya.Handler.create(u,function(){p()}),0,!1,!0).update=Laya.Handler.create(u,function(){t.transform?u.localPosition(t,l.x,l.y,l.z):p()},null,!1)})},t.tweenPosition=function(t,e,o,n,i,r,c,s,a,u){var p=this;return void 0===a&&(a=null),void 0===u&&(u=null),new Promise(function(l){var f=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);p.setToVec3(f,o,n,i),Laya.Tween.to(f,{x:r,y:c,z:s},e,a,Laya.Handler.create(p,function(){l()}),0,!1,!0).update=Laya.Handler.create(p,function(){t.transform?(p.position(t,f.x,f.y,f.z),u&&u.runWith(f)):l()},null,!1)})},t.tweenRotationY=function(t,e,o,n,i,r){var c=this;return void 0===i&&(i=null),void 0===r&&(r=null),new Promise(function(r){var s=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);c.setToVec3(s,0,o,0),Laya.Tween.to(s,{x:0,y:n,z:0},e,i,Laya.Handler.create(c,function(){r()})).update=Laya.Handler.create(c,function(){t.transform&&c.rotationY(t,s.y)},null,!1)})},t.tweenRotationX=function(t,e,o,n,i,r){var c=this;return void 0===i&&(i=null),void 0===r&&(r=null),new Promise(function(r){var s=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);c.setToVec3(s,o,0,0),Laya.Tween.to(s,{x:n,y:0,z:0},e,i,Laya.Handler.create(c,function(){r()})).update=Laya.Handler.create(c,function(){t.transform&&c.rotationX(t,s.y)},null,!1)})},t.tweenRotation=function(t,e,o,n,i,r,c,s,a,u){var p=this;void 0===a&&(a=null),void 0===u&&(u=null);var l=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(l,o,n,i),Laya.Tween.to(l,{x:r,y:c,z:s},e,a).update=Laya.Handler.create(this,function(){t.transform&&p.rotation(t,l.x,l.y,l.z)},null,!1)},t}();o.Utils3D=n,cc._RF.pop()},{}],WoodenCaskControl:[function(t,e,o){"use strict";cc._RF.push(e,"55c02DDVdJEtZ/4BciMQDzV","WoodenCaskControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/entity/EntityLogic"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.willShow=function(t){this.node.active=!1,this.node.x=t.x,this.node.y=t.y,t.width&&(this.node.width=t.width),t.height&&(this.node.height=t.height),this.node.rotation=t.rotation},e=i([s],e)}(r.default));o.default=a,cc._RF.pop()},{"../../framework/entity/EntityLogic":"EntityLogic"}],endForm:[function(t,e,o){"use strict";cc._RF.push(e,"5af93BBOU5FFJKeogtt5W1+","endForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../sheets/vo/LevelCfg"),c=t("../../config/UIForms"),s=t("../../extends/CheckboxEx"),a=t("../../framework/ui/UIForm"),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winContainer=null,e.failContainer=null,e.checkboxContainer=null,e.btnWinNext=null,e.btnWinHome=null,e.btnFailNext=null,e.btnFailHome=null,e.isMask=!0,e}return n(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.winContainer.active=e&&e.isWin,this.failContainer.active=!this.winContainer.active,this.addListener(),this.checkboxContainer.getComponent(s.default).reset(!0),Lite.ui.pushUIForm(c.default.ShareForm),moosnow.platform.stopRecord(function(){})},e.prototype.addListener=function(){var t=this;moosnow.form.applyClickAnim(this.btnWinNext,function(){t.checkboxContainer.getComponent(s.default).getChecked()?moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(Lite.data.addVideoSp(),t.onGameNext()):e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)}):t.on2Home()}),moosnow.form.applyClickAnim(this.btnWinHome,function(){t.on2Home()}),moosnow.form.applyClickAnim(this.btnFailNext,function(){moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(t.on2NextLevel(),t.onGameNext()):e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.pushUIForm(c.default.videoForm,{completed:function(){t.on2NextLevel(),t.onGameNext()}},function(){})})}),moosnow.form.applyClickAnim(this.btnFailHome,function(){t.checkboxContainer.getComponent(s.default).getChecked()?moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(Lite.data.addVideoSp(),t.on2Home()):e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)}):t.on2Home()})},e.prototype.on2NextLevel=function(){Lite.data.setUserLevel(this.FormData.level,0),this.FormData.level<r.LevelCfg.getAll().length&&Lite.data.addCurrentLevel()},e.prototype.onGameNext=function(){Lite.ui.hideUIForm(c.default.GameForm,null),Lite.ui.hideUIForm(c.default.EndForm,null),Lite.ui.pushUIForm(c.default.HomeForm)},e.prototype.on2Home=function(){Lite.ui.hideUIForm(c.default.GameForm,null),Lite.ui.hideUIForm(c.default.EndForm,null),Lite.ui.pushUIForm(c.default.HomeForm)},e.prototype.willHide=function(){this.remoteListener()},e.prototype.remoteListener=function(){moosnow.form.removeClickAnim(this.btnWinNext),moosnow.form.removeClickAnim(this.btnWinHome)},i([l(cc.Node)],e.prototype,"winContainer",void 0),i([l(cc.Node)],e.prototype,"failContainer",void 0),i([l(cc.Node)],e.prototype,"checkboxContainer",void 0),i([l(cc.Node)],e.prototype,"btnWinNext",void 0),i([l(cc.Node)],e.prototype,"btnWinHome",void 0),i([l(cc.Node)],e.prototype,"btnFailNext",void 0),i([l(cc.Node)],e.prototype,"btnFailHome",void 0),e=i([p],e)}(a.default);o.default=f,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../extends/CheckboxEx":"CheckboxEx","../../framework/ui/UIForm":"UIForm"}],followForm:[function(t,e,o){"use strict";cc._RF.push(e,"905b0iBIgVEUItuiPDBiyRl","followForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/UIForms"),c=t("../../framework/ui/UIForm"),s=t("../../utils/EventType"),a=cc._decorator,u=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnFollow=null,e.btnClose=null,e.txtKey=null,e.btnCopy=null,e.isMask=!0,e.changeKey="rHtvizC7b2",e}return n(e,t),e.prototype.start=function(){var e=this;t.prototype.start.call(this),this.btnFollow.on(cc.Node.EventType.TOUCH_END,function(){e.changeKey==e.txtKey.string.trim()?(Lite.data.addChangeTag(),Lite.data.addFollowSp(),Lite.ui.hideUIForm(r.default.FollowForm,null,function(){Lite.ui.showToast("\u5151\u6362\u6210\u529f"),moosnow.event.sendEventImmediately(s.default.FOLLOW_CHANGED,null)})):Lite.ui.showToast("\u5151\u6362\u7801\u9519\u8bef")},this),this.btnClose.on(cc.Node.EventType.TOUCH_END,function(){Lite.ui.hideUIForm(r.default.FollowForm,null)},this),this.btnCopy.on(cc.Node.EventType.TOUCH_END,function(){moosnow.platform.openAwemeUserProile(function(t){},function(){})},this)},e.prototype.onShow=function(){this.txtKey.string=""},i([p(cc.Node)],e.prototype,"btnFollow",void 0),i([p(cc.Node)],e.prototype,"btnClose",void 0),i([p(cc.EditBox)],e.prototype,"txtKey",void 0),i([p(cc.Node)],e.prototype,"btnCopy",void 0),e=i([u],e)}(c.default);o.default=l,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/EventType":"EventType"}],gameEntry:[function(t,e,o){"use strict";cc._RF.push(e,"84e36k0/UhEprj3VbtKYlWY","gameEntry");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./AppConfig"),c=t("./AudioModule"),s=t("./ResourceModule"),a=t("../GameDataCenter"),u=t("../../utils/MoveUtil"),p=cc._decorator,l=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mConfig=new r.default,e.mResource=new s.default,e.mMoveUtil=new u.default,e}return n(e,t),e.prototype.start=function(){window.Lite=this,this.mData=new a.default,this.mAudio=new c.default,cc.game.addPersistRootNode(this.node)},Object.defineProperty(e.prototype,"myGame",{get:function(){return this.mMyGame},set:function(t){this.mMyGame=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.mData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.mConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audio",{get:function(){return this.mAudio},set:function(t){this.mAudio=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ui",{get:function(){return this.mUi},set:function(t){this.mUi=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resource",{get:function(){return this.mResource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"moveUtil",{get:function(){return this.mMoveUtil},enumerable:!0,configurable:!0}),e.prototype.update=function(t){this.moveUtil.onUpdate(t)},e=i([l],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../utils/MoveUtil":"MoveUtil","../GameDataCenter":"GameDataCenter","./AppConfig":"AppConfig","./AudioModule":"AudioModule","./ResourceModule":"ResourceModule"}],gameForm:[function(t,e,o){"use strict";cc._RF.push(e,"d266bZl6a1L9ZiopfqloYco","gameForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../utils/EventType"),s=t("../../config/Entitys"),a=t("../../../sheets/vo/LevelCfg"),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.left=null,e.top=null,e.right=null,e.bottom=null,e.drawContainer=null,e.clound=null,e.btnReplay=null,e.btnPause=null,e.btnAddNum=null,e.txtLevel=null,e.cutNum=null,e.txtCutNum=null,e.face=null,e.light1=null,e.light2=null,e.btnRain=null,e.receiveProgressBar=null,e.waterAnim=null,e.mBeginTime=0,e.mTotalTime=0,e.mCurrentLevel=0,e.mGameLevel=0,e}return n(e,t),e.prototype.start=function(){var t=this;moosnow.event.addListener(c.default.GAME_STATE_OVER,this,this.onGameOver),moosnow.event.addListener(c.default.GAME_REFRESH_CUT_NUM,this,this.onRefreshCutNum),moosnow.event.addListener(c.default.GAME_CUT_END,this,this.hideAction),moosnow.event.addListener(c.default.OBJECT_CUT,this,function(e){Lite.entity.showEntity(s.default.knife,t.node,e)}),this.resetCutNum();var e=cc.Canvas.instance.node.width,o=cc.Canvas.instance.node.height;this.drawContainer.width=e,this.drawContainer.height=o,this.drawContainer.anchorX=this.drawContainer.anchorY=0,this.drawContainer.x=-e/2,this.drawContainer.y=-o/2,moosnow.form.applyClickAnim(this.btnPause,function(){t.onPause()}),moosnow.form.applyClickAnim(this.btnReplay,function(){t.onReplay()}),moosnow.form.applyClickAnim(this.btnAddNum,function(){t.onVideoAddNum()}),moosnow.form.applyClickAnim(this.btnRain,function(){moosnow.event.sendEventImmediately(c.default.GAME_CUT_END,null)}),moosnow.event.addListener(c.default.RECEIVE_RAIN,this,function(e){t.receiveProgressBar.progress=e.receiveNum/e.winNum;var o=t.node.convertToNodeSpaceAR(new cc.Vec2(e.pos.x,e.pos.y));t.receiveProgressBar.node.x=o.x,t.waterAnim.y=t.receiveProgressBar.barSprite.node.height+t.receiveProgressBar.barSprite.node.y})},e.prototype.hideAction=function(){this.btnPause.active=!1},e.prototype.sunAnim=function(){this.light1.stopAllActions(),this.light2.stopAllActions(),this.light1.runAction(cc.sequence(cc.scaleTo(.3,.8),cc.scaleTo(.3,1.1)).repeatForever()),this.light2.runAction(cc.sequence(cc.scaleTo(.3,1.1),cc.scaleTo(.3,.8)).repeatForever())},e.prototype.displayLevel=function(t){},e.prototype.onPause=function(){var t=this;moosnow.form.showAd(moosnow.AD_POSITION.EXPORT|moosnow.AD_POSITION.MASK,function(){},null,null,cc.macro.MAX_ZINDEX-1),moosnow.event.sendEventImmediately(c.default.GAME_STATE_PAUSE,null),moosnow.form.showPause({zIndex:cc.macro.MAX_ZINDEX,hideForm:!0,callback:function(){Lite.myGame.gameStarted&&(moosnow.form.hideAd(function(){}),moosnow.event.sendEventImmediately(c.default.GAME_STATE_RESUME,null),moosnow.platform.resumeRecord())},replayCallback:function(){Lite.myGame.gameStarted&&(moosnow.form.hideAd(function(){}),moosnow.event.sendEventImmediately(c.default.GAME_STATE_RESUME,null),moosnow.platform.stopRecord(function(){}),t.resetCutNum(),t.onGameOver(),t.loadLevel(t.mCurrentLevel),moosnow.event.sendEventImmediately(c.default.REPLAY_LEVEL,t.FormData))},homeCallback:function(){Lite.myGame.gameStarted&&(moosnow.form.hideAd(function(){}),t.resetCutNum(),moosnow.event.sendEventImmediately(c.default.GAME_STATE_OVER,{isWin:!1,level:t.FormData.level}))}})},e.prototype.onReplay=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(t.resetCutNum(),moosnow.event.sendEventImmediately(c.default.GAME_STATE_OVER,{isWin:!0,level:t.mCurrentLevel})):e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onRefreshCutNum=function(){this.cutNum.stopAllActions(),this.cutNum.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),moosnow.nodeHelper.changeText(this.txtCutNum,""+Lite.data.getCutNum())},e.prototype.onVideoAddNum=function(){moosnow.platform.showVideo(function(t){t==moosnow.VIDEO_STATUS.END?Lite.data.addCutNum(1):t==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.update=function(t){},e.prototype.onGameOver=function(){Lite.entity.hideAllEntity(s.default.clound),Lite.entity.hideAllEntity(s.default.rain),Lite.audio.stopRainEffect()},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.mBeginTime=this.mTotalTime=e.beginTime;var o=a.LevelCfg.getAll().length;e.level>o?this.mCurrentLevel=o:this.mCurrentLevel=e.level,this.btnPause.active=!0,this.resetCutNum();a.LevelCfg.get(this.mCurrentLevel);moosnow.nodeHelper.changeText(this.txtLevel,""+this.mCurrentLevel)},e.prototype.resetCutNum=function(){var t=a.LevelCfg.get(this.mCurrentLevel);Lite.data.clearCutNum(),Lite.data.addCutNum(t.cutNum)},e.prototype.onShow=function(){this.loadLevel(this.mCurrentLevel),this.displayLevel(this.mCurrentLevel),this.sunAnim(),Lite.data.addSp(-1),moosnow.form.showAd(moosnow.AD_POSITION.LEFTRIGHT,function(){})},e.prototype.loadLevel=function(t){Lite.data.getUserLevel();a.LevelCfg.getAll().forEach(function(t){Lite.entity.hideAllEntity(t.prefab,!0)});var e=a.LevelCfg.get(t);Lite.entity.showEntity(e.prefab,this.node,{level:t})},e.prototype.showStar=function(t){},i([l(cc.Node)],e.prototype,"left",void 0),i([l(cc.Node)],e.prototype,"top",void 0),i([l(cc.Node)],e.prototype,"right",void 0),i([l(cc.Node)],e.prototype,"bottom",void 0),i([l(cc.Node)],e.prototype,"drawContainer",void 0),i([l(cc.Node)],e.prototype,"clound",void 0),i([l(cc.Node)],e.prototype,"btnReplay",void 0),i([l(cc.Node)],e.prototype,"btnPause",void 0),i([l(cc.Node)],e.prototype,"btnAddNum",void 0),i([l(cc.Node)],e.prototype,"txtLevel",void 0),i([l(cc.Node)],e.prototype,"cutNum",void 0),i([l(cc.Node)],e.prototype,"txtCutNum",void 0),i([l(cc.Node)],e.prototype,"face",void 0),i([l(cc.Node)],e.prototype,"light1",void 0),i([l(cc.Node)],e.prototype,"light2",void 0),i([l(cc.Node)],e.prototype,"btnRain",void 0),i([l(cc.ProgressBar)],e.prototype,"receiveProgressBar",void 0),i([l(cc.Node)],e.prototype,"waterAnim",void 0),e=i([p],e)}(r.default);o.default=f,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/Entitys":"Entitys","../../framework/ui/UIForm":"UIForm","../../utils/EventType":"EventType"}],homeForm:[function(t,e,o){"use strict";cc._RF.push(e,"2047aYRcnhB/qNUJByawJ75","homeForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../config/UIForms"),s=t("../../utils/EventType"),a=t("../../config/Entitys"),u=t("../../framework/ui/UIForm"),p=cc._decorator,l=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStar=null,e.btnPrev=null,e.btnNext=null,e.mapContainer=null,e.mapPoints=null,e.chapterTxt=null,e.shutter=null,e.btnSoundOn=null,e.btnSoundOff=null,e.btnGarage=null,e.coinNum=null,e.qqAppBox=null,e.ttAppBox=null,e.btnMore=null,e.btnLeft=null,e.easterEggContainer=null,e.floatContainer=null,e.txtSp=null,e.btnFollow=null,e.mMapPos=[],e.mChapterBig=0,e.mChapterSmall=5,e}return n(e,t),e.prototype.start=function(){},e.prototype.onShow=function(t){this.addListener(),this.displayLevel(),this.displayButton();this.floatContainer.children.forEach(function(t){t.active=!1}),moosnow.form.showAd(moosnow.AD_POSITION.BANNER|moosnow.AD_POSITION.FLOAT,function(){}),this.btnSoundOff.active=Lite.audio.isMute,moosnow.platform.showAutoBanner(),this.btnLeft.x=cc.Canvas.instance.node.width/2-this.btnLeft.width/2,console.log("left x",this.btnLeft.x)},e.prototype.starGame=function(){moosnow.form.showAd(moosnow.AD_POSITION.FLOAT,function(){},[new cc.Vec2(0,0)],["floatAdItem2"]),moosnow.event.sendEventImmediately(s.default.GAME_STATE_START,1)},e.prototype.showCoin=function(){},e.prototype.addListener=function(){this.btnStar.on(cc.Node.EventType.TOUCH_END,this.starGame,this),this.btnPrev.on(cc.Node.EventType.TOUCH_END,this.onPrevChapterBigChange,this),this.btnNext.on(cc.Node.EventType.TOUCH_END,this.onNextChapterBigChange,this),this.btnSoundOn.on(cc.Node.EventType.TOUCH_END,this.onSoundChange,this),this.btnMore.on(cc.Node.EventType.TOUCH_END,this.onOpenMore,this),this.btnLeft.on(cc.Node.EventType.TOUCH_END,this.onOpenMore,this),this.btnFollow.on(cc.Node.EventType.TOUCH_END,this.onFollow,this),moosnow.event.addListener(s.default.SKIN_CHANGE,this,this.showCoin),moosnow.event.addListener(s.default.COIN_CHANGED,this,this.showCoin),moosnow.event.addListener(s.default.COIN_CHANGED,this,this.showCoin),moosnow.event.addListener(s.default.FOLLOW_CHANGED,this,this.onFollowChanged)},e.prototype.onFollowChanged=function(){this.btnFollow.active=!1},e.prototype.removeListener=function(){this.btnStar.off(cc.Node.EventType.TOUCH_END,this.starGame,this),this.btnPrev.off(cc.Node.EventType.TOUCH_END,this.onPrevChapterBigChange,this),this.btnNext.off(cc.Node.EventType.TOUCH_END,this.onNextChapterBigChange,this),this.btnSoundOn.off(cc.Node.EventType.TOUCH_END,this.onSoundChange,this),this.btnMore.off(cc.Node.EventType.TOUCH_END,this.onOpenMore,this),this.btnLeft.off(cc.Node.EventType.TOUCH_END,this.onOpenMore,this),moosnow.event.removeListener(s.default.SKIN_CHANGE,this),moosnow.event.removeListener(s.default.COIN_CHANGED,this)},e.prototype.onFollow=function(){console.log("onFollow  "),Lite.ui.pushUIForm(c.default.FollowForm,null)},e.prototype.onOpenMore=function(){moosnow.form.showAd(moosnow.AD_POSITION.EXPORT|moosnow.AD_POSITION.MASK|moosnow.AD_POSITION.BACK,function(){moosnow.form.showAd(moosnow.AD_POSITION.BANNER|moosnow.AD_POSITION.FLOAT,function(){}),moosnow.platform.showAutoBanner()})},e.prototype.onSoundChange=function(){Lite.audio.isMute=!Lite.audio.isMute,this.btnSoundOff.active=Lite.audio.isMute,Lite.audio.isMute?Lite.audio.stopMusic():Lite.audio.playMainMusic()},e.prototype.onShowAppBox=function(){moosnow.platform.showAppBox(function(){},!1)},e.prototype.onGarage=function(){Lite.ui.pushUIForm(c.default.SkinForm)},e.prototype.displayButton=function(){this.mChapterBig<=0?this.btnPrev.active=!1:this.btnPrev.active=!0;var t=Lite.data.getMaxLevel(),e=Math.ceil(t/this.mChapterSmall);this.mChapterBig>=e-1?this.btnNext.active=!1:this.btnNext.active=!0},e.prototype.onSet=function(){Lite.ui.getUIFrom(c.default.SetForm)?Lite.ui.hideUIForm(c.default.SetForm,null):Lite.ui.pushUIForm(c.default.SetForm)},e.prototype.onPrevChapterBigChange=function(){this.mChapterBig--,this.mChapterBig<=0&&(this.mChapterBig=0),this.displayLevel(),this.displayButton(),this.runShutter()},e.prototype.onNextChapterBigChange=function(){this.mChapterBig++;var t=Lite.data.getMaxLevel(),e=Math.ceil(t/this.mChapterSmall);this.mChapterBig>=e&&(this.mChapterBig=e),this.displayLevel(),this.displayButton(),this.runShutter()},e.prototype.runShutter=function(){Lite.audio.playShutter(),this.shutter.runAction(cc.sequence(cc.fadeIn(0),cc.fadeOut(.5)))},e.prototype.initPosition=function(){var t=this;0==this.mMapPos.length&&(this.mMapPos=[],this.mapPoints.children.forEach(function(e){e.active=!1,t.mMapPos.push(e.position.clone())}))},e.prototype.displayLevel=function(){var t=Lite.data.getUserLevel(),e=this.mChapterBig*this.mChapterSmall,o=e+this.mChapterSmall;this.mapPoints.removeAllChildren();for(var n=e;n<o;n++){var r=i({},this.mMapPos.length>n-e?this.mMapPos[n-e]:new cc.Vec2(0,0),t[n],{level:n+1,memo:n+1});Lite.entity.showEntity(a.default.mapItem,this.mapPoints,r)}moosnow.nodeHelper.changeText(this.chapterTxt,""+(this.mChapterBig+1))},e.prototype.willHide=function(){this.removeListener()},e.prototype.willShow=function(){this.initPosition();var t=moosnow.platform.getSystemInfoSync();-1!=["Douyin"].indexOf(t.appName)&&0==Lite.data.getChangeTag()?this.btnFollow.active=!0:this.btnFollow.active=!1},r([f(cc.Node)],e.prototype,"btnStar",void 0),r([f(cc.Node)],e.prototype,"btnPrev",void 0),r([f(cc.Node)],e.prototype,"btnNext",void 0),r([f(cc.Node)],e.prototype,"mapContainer",void 0),r([f(cc.Node)],e.prototype,"mapPoints",void 0),r([f(cc.Node)],e.prototype,"chapterTxt",void 0),r([f(cc.Node)],e.prototype,"shutter",void 0),r([f(cc.Node)],e.prototype,"btnSoundOn",void 0),r([f(cc.Node)],e.prototype,"btnSoundOff",void 0),r([f(cc.Node)],e.prototype,"btnGarage",void 0),r([f(cc.Label)],e.prototype,"coinNum",void 0),r([f(cc.Node)],e.prototype,"qqAppBox",void 0),r([f(cc.Node)],e.prototype,"ttAppBox",void 0),r([f(cc.Node)],e.prototype,"btnMore",void 0),r([f(cc.Node)],e.prototype,"btnLeft",void 0),r([f(cc.Node)],e.prototype,"easterEggContainer",void 0),r([f(cc.Node)],e.prototype,"floatContainer",void 0),r([f(cc.Label)],e.prototype,"txtSp",void 0),r([f(cc.Node)],e.prototype,"btnFollow",void 0),e=r([l],e)}(u.default);o.default=h,cc._RF.pop()},{"../../config/Entitys":"Entitys","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/EventType":"EventType"}],mistouchForm:[function(t,e,o){"use strict";cc._RF.push(e,"e6102X0ZB9IoY1D225xW3Wt","mistouchForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../Script/config/UIForms"),c=t("../../../script/framework/ui/UIForm"),s=t("../../../script/utils/Common"),a=t("../../utils/EventType"),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickProgress=null,e.btnJump=null,e.logo=null,e.btnVideoJump=null,e.isMask=!0,e.mMaxNum=10,e.mCurrentNum=0,e.mNavigateIndex=0,e.mBannerShow=!1,e.mShowTime=0,e.mBannerClickType=2,e}return n(e,t),e.prototype.willShow=function(t){var e=this;this.btnJump.active=!0,this.LogicData=t,this.mBeginPos=this.logo.position.clone(),this.mEndPos=this.mBeginPos.add(new cc.Vec2(0,50)),this.mCurrentNum=0,this.mNavigateIndex=s.default.randomNumBoth(3,this.mMaxNum-2),this.addEvent(),this.schedule(this.subProgress,.1),this.mBannerShow=!1,moosnow.http.getAllConfig(function(t){e.mBannerClickType=2})},e.prototype.willHide=function(){this.unschedule(this.subProgress),this.unschedule(this.resetProgress),this.removeEvent()},e.prototype.subProgress=function(){this.mCurrentNum>0&&(this.mCurrentNum-=.1)},e.prototype.addEvent=function(){this.btnJump.on(cc.Node.EventType.TOUCH_START,this.onLogoUp,this),this.btnJump.on(cc.Node.EventType.TOUCH_END,this.onJump,this),this.node.on(cc.Node.EventType.TOUCH_END,this.stopPropagation,this)},e.prototype.removeEvent=function(){this.btnJump.off(cc.Node.EventType.TOUCH_END,this.onJump,this),this.node.off(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),moosnow.event.removeListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_HIDE,this)},e.prototype.stopPropagation=function(t){t.stopPropagation()},e.prototype.onLogoUp=function(){this.logo.position=this.mEndPos},e.prototype.onLogoDown=function(){this.logo.position=this.mBeginPos},e.prototype.onJump=function(){var t=this;this.onLogoDown(),this.mCurrentNum+=1,this.mCurrentNum>=this.mNavigateIndex&&(this.mBannerShow||(this.mShowTime=Date.now(),this.mBannerShow=!0,moosnow.platform.showVideo(function(e){Lite.ui.destroyUIForm(r.default.MistouchForm,null),moosnow.platform.hideBanner(),moosnow.event.sendEventImmediately(a.default.GAME_STATE_START,t.LogicData.level)})))},e.prototype.resetProgress=function(){this.mCurrentNum=0,moosnow.platform.hideBanner(),this.mBannerShow=!1},e.prototype.onHideBanner=function(){moosnow.platform.hideBanner()},e.prototype.update=function(){this.clickProgress.progress=this.mCurrentNum/this.mMaxNum},i([l(cc.ProgressBar)],e.prototype,"clickProgress",void 0),i([l(cc.Node)],e.prototype,"btnJump",void 0),i([l(cc.Node)],e.prototype,"logo",void 0),i([l(cc.Node)],e.prototype,"btnVideoJump",void 0),e=i([p],e)}(c.default);o.default=f,cc._RF.pop()},{"../../../Script/config/UIForms":"UIForms","../../../script/framework/ui/UIForm":"UIForm","../../../script/utils/Common":"Common","../../utils/EventType":"EventType"}],shareForm:[function(t,e,o){"use strict";cc._RF.push(e,"83ed17cPFFNybtL8yKyvXEW","shareForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/UIForms"),c=t("../../framework/ui/UIForm"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnConfirm=null,e.txtSp=null,e.btnNo=null,e.isMask=!0,e}return n(e,t),e.prototype.start=function(){t.prototype.start.call(this),moosnow.form.applyClickAnim(this.btnClose,function(){Lite.ui.hideUIForm(r.default.ShareForm,null)}),moosnow.form.applyClickAnim(this.btnNo,function(){Lite.ui.hideUIForm(r.default.ShareForm,null)}),moosnow.form.applyClickAnim(this.btnConfirm,function(){var t=!1;moosnow.platform.share({channel:moosnow.SHARE_CHANNEL.VIDEO},function(e){e?(Lite.data.addSp(2),Lite.ui.hideUIForm(r.default.ShareForm,null)):t||Lite.ui.showToast("\u5206\u4eab\u5931\u8d25")},function(){t=!0,Lite.ui.showToast("\u5f55\u5c4f\u65f6\u95f4\u592a\u77ed\uff0c\u65e0\u6cd5\u5206\u4eab")})})},i([u(cc.Node)],e.prototype,"btnClose",void 0),i([u(cc.Node)],e.prototype,"btnConfirm",void 0),i([u(cc.Label)],e.prototype,"txtSp",void 0),i([u(cc.Node)],e.prototype,"btnNo",void 0),e=i([a],e)}(c.default);o.default=p,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm"}],skinForm:[function(t,e,o){"use strict";cc._RF.push(e,"d5c50RVGQlB0bl2Vk1FUmhj","skinForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),s=t("../../../sheets/vo/Skin"),a=t("../../utils/Common"),u=t("../../utils/EventType"),p=t("../../config/UIForms"),l=cc._decorator,f=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skinView=null,e.skinLayout=null,e.btnBack=null,e.btnVideo=null,e.btnCoin=null,e.isMask=!0,e}return n(e,t),e.prototype.willShow=function(){this.initSkin(),this.addListener(),this.onSkinChange(),moosnow.platform.showBanner(!1),moosnow.event.sendEventImmediately(u.default.ADFORM_CHANGE,{})},e.prototype.willHide=function(){this.removeListener(),moosnow.APP_PLATFORM.WX==moosnow.getAppPlatform()?(moosnow.platform.hideBanner(),moosnow.form.showAd(moosnow.AD_POSITION.BANNER|moosnow.AD_POSITION.FLOAT,function(){})):moosnow.platform.showBanner(!1)},e.prototype.initSkin=function(){var t=this;Lite.entity.hideAllEntity("skinItem"),s.Skin.getAll().forEach(function(e){Lite.entity.showEntity("skinItem",t.skinLayout.node,i({},a.default.deepCopy(e)))})},e.prototype.addListener=function(){this.btnBack.on(cc.Node.EventType.TOUCH_END,this.onBack,this),this.btnVideo.on(cc.Node.EventType.TOUCH_END,this.onUnlock,this),this.btnCoin.on(cc.Node.EventType.TOUCH_END,this.onCoinUnlock,this),moosnow.event.addListener(u.default.SKIN_SELECT,this,this.onSkinChange)},e.prototype.removeListener=function(){this.btnBack.off(cc.Node.EventType.TOUCH_END,this.onBack,this),this.btnVideo.off(cc.Node.EventType.TOUCH_END,this.onUnlock,this),this.btnCoin.on(cc.Node.EventType.TOUCH_END,this.onCoinUnlock,this),moosnow.event.removeListener(u.default.SKIN_SELECT,this)},e.prototype.onSkinChange=function(){var t=Lite.data.getSelectSkin(),e=Lite.data.getUserSkinById(t);this.btnCoin.active=!e,this.btnVideo.active=!e},e.prototype.onBack=function(){Lite.ui.hideUIForm(p.default.SkinForm,null)},e.prototype.onCoinUnlock=function(){var t=Lite.data.getSelectSkin(),e=s.Skin.get(t),o=Lite.data.getCoin();e.coinNum<=o?(Lite.data.setCoin(o-e.coinNum),Lite.data.saveCoin(),Lite.data.addUserSkinCoin(t),Lite.data.setCurrentSkinId(t),moosnow.event.sendEventImmediately(u.default.SKIN_CHANGE,t),this.onSkinChange()):moosnow.form.showToast("\u91d1\u5e01\u4e0d\u8db3")},e.prototype.onUnlock=function(){var t=this;moosnow.platform.showVideo(function(e){if(e==moosnow.VIDEO_STATUS.END){var o=Lite.data.getSelectSkin();Lite.data.addUserSkinVideo(o);var n=Lite.data.getUserSkinById(o);s.Skin.get(o).videoNum<=n.videoNum&&(Lite.data.setCurrentSkinId(o),moosnow.event.sendEventImmediately(u.default.SKIN_CHANGE,o),t.onSkinChange())}else e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},r([h(cc.ScrollView)],e.prototype,"skinView",void 0),r([h(cc.Layout)],e.prototype,"skinLayout",void 0),r([h(cc.Node)],e.prototype,"btnBack",void 0),r([h(cc.Node)],e.prototype,"btnVideo",void 0),r([h(cc.Node)],e.prototype,"btnCoin",void 0),e=r([f],e)}(c.default);o.default=d,cc._RF.pop()},{"../../../sheets/vo/Skin":"Skin","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],spForm:[function(t,e,o){"use strict";cc._RF.push(e,"7faa4ne1/VHaKq+hV9TdTKV","spForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/UIForms"),c=t("../../framework/ui/UIForm"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnConfirm=null,e.txtSp=null,e.isMask=!0,e}return n(e,t),e.prototype.start=function(){t.prototype.start.call(this),moosnow.form.applyClickAnim(this.btnClose,function(){Lite.ui.hideUIForm(r.default.spForm,null)}),moosnow.form.applyClickAnim(this.btnConfirm,function(){moosnow.platform.showVideo(function(t){t==moosnow.VIDEO_STATUS.END?(Lite.data.addVideoSp(),Lite.ui.hideUIForm(r.default.spForm,null)):t==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})})},i([u(cc.Node)],e.prototype,"btnClose",void 0),i([u(cc.Node)],e.prototype,"btnConfirm",void 0),i([u(cc.Label)],e.prototype,"txtSp",void 0),e=i([a],e)}(c.default);o.default=p,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm"}],totalForm:[function(t,e,o){"use strict";cc._RF.push(e,"d02a2m1n5NDtLANi3x3IHMU","totalForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),s=t("../../../sheets/vo/LevelCfg"),a=t("../../utils/Common"),u=t("../../config/UIForms"),p=cc._decorator,l=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.btnReceive=null,e.levelCoin=null,e.isMask=!0,e.mCheckedVideo=!0,e.mLevelCoinNum=0,e.mLevelShareCoinNum=0,e}return n(e,t),e.prototype.addEvent=function(){this.unchecked.node.on(cc.Node.EventType.TOUCH_END,this.onShareChange,this),this.btnReceive.node.on(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.removeEvent=function(){this.unchecked.node.off(cc.Node.EventType.TOUCH_END,this.onShareChange,this),this.btnReceive.node.off(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.onReceive=function(){var t=this;this.mCheckedVideo?moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?t.openEnd(5*t.mLevelCoinNum):e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)}):this.openEnd(this.mLevelCoinNum)},e.prototype.openEnd=function(t){Lite.ui.hideUIForm(u.default.TotalForm,null),Lite.ui.pushUIForm(u.default.EndForm,i({coin:t,level:this.FormData.level,levelShareCoinNum:this.mLevelShareCoinNum},this.FormData))},e.prototype.onShareChange=function(){this.mCheckedVideo=!this.mCheckedVideo,this.showBtn()},e.prototype.showBtn=function(){this.mCheckedVideo?this.checked.node.active=!0:this.checked.node.active=!1},e.prototype.onShow=function(t){var e=s.LevelCfg.get(this.FormData.level+1);this.mLevelCoinNum=e.coin,this.mLevelShareCoinNum=e.shareCoin,this.levelCoin.string=""+a.default.formatMoney(this.mLevelCoinNum),this.addEvent(),this.showBtn(),this.mCheckedVideo=!0,this.showBtn(),moosnow.platform.stopRecord(),moosnow.platform.showBanner(!1)},e.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},r([f(cc.Sprite)],e.prototype,"checked",void 0),r([f(cc.Sprite)],e.prototype,"unchecked",void 0),r([f(cc.Sprite)],e.prototype,"btnReceive",void 0),r([f(cc.Label)],e.prototype,"levelCoin",void 0),e=r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common"}],use_reversed_rotateTo:[function(t,e,o){"use strict";cc._RF.push(e,"2fbd6wthklCsZNrNR+q1Ldp","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],videoForm:[function(t,e,o){"use strict";cc._RF.push(e,"4fd522RANRNH7eUxGIsNmtu","videoForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/UIForms"),c=t("../../framework/ui/UIForm"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnConfirm=null,e.isMask=!0,e}return n(e,t),e.prototype.start=function(){var e=this;t.prototype.start.call(this),moosnow.form.applyClickAnim(this.btnClose,function(){Lite.ui.hideUIForm(r.default.videoForm,null)}),moosnow.form.applyClickAnim(this.btnConfirm,function(){moosnow.platform.showVideo(function(t){t==moosnow.VIDEO_STATUS.END?e.FormData&&e.FormData.completed&&e.FormData.completed():t==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})})},i([u(cc.Node)],e.prototype,"btnClose",void 0),i([u(cc.Node)],e.prototype,"btnConfirm",void 0),e=i([a],e)}(c.default);o.default=p,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm"}]},{},["use_reversed_rotateTo","CutMask","CutObjects","Loading","MainView","PhysicsSetting","Entitys","ModelMapping","RoleControl","UIForms","UIMapping","EasterEggAnim","GuideControl","KnifeControl","KnifeEffectControl","MapItem","MapManage","SawdustControl","SkinItem","BoardControl","ChainControl","CircleControl","CloundControl","LongIronControl","PillarStaticControl","RainControl","RevoluteControl","RollerChainControl","SimpleMotion","WoodenCaskControl","ButtonEx","CheckboxEx","DelayEx","GameDataCenter","TouchManager","EntityData","EntityLogic","AppConfig","AudioModule","BaseModule","EntityModule","GameLogic","GameState","ResourceModule","UIModule","gameEntry","ToastForm","UIForm","SPControl","endForm","followForm","gameForm","homeForm","mistouchForm","shareForm","skinForm","spForm","totalForm","videoForm","ArrayUtil","Common","Delay","EventType","LoaderManager","Logger","MathUtils","MoveUtil","SheetManager","Utils3D","ConfigData","EasterEgg","LevelCfg","PrizeBox","Sheets","Sign","SignVo","Skin"]);